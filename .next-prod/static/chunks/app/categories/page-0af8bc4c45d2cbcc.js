(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2379],{9137:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(95155),s=r(12108),i=r(35695),d=r(12115),o=r(48947);function n(){let{data:e,status:t}=(0,s.useSession)(),r=(0,i.useRouter)(),[n,l]=(0,d.useState)("asset"),[c,x]=(0,d.useState)([]),[m,h]=(0,d.useState)([]),[g,u]=(0,d.useState)([]),[p,b]=(0,d.useState)(!0),[y,k]=(0,d.useState)(""),[j,v]=(0,d.useState)(!1),[f,w]=(0,d.useState)(null),[N,C]=(0,d.useState)(null),[L,A]=(0,d.useState)(null),[M,E]=(0,d.useState)({name:"",description:""}),[S,B]=(0,d.useState)(!1),[W,z]=(0,d.useState)(""),[D,T]=(0,d.useState)(!1);(0,d.useEffect)(()=>{var a;if("loading"===t)return;if("unauthenticated"===t)return void r.push("/auth/signin");let s=null==e||null==(a=e.user)?void 0:a.role;if("ADMIN"!==s&&"MANAGER"!==s)return void r.push("/dashboard");F()},[t,r,e]);let F=async()=>{try{let[e,t,r]=await Promise.all([fetch("/api/categories"),fetch("/api/preset-categories"),fetch("/api/preset-departments")]);if(e.ok){let t=await e.json();x(t.categories.map(e=>({...e,isEditable:!["CAMERA","LENS","LIGHTING","AUDIO","COMPUTER","STORAGE","ACCESSORY","FURNITURE","SOFTWARE","OTHER"].includes(e.id)})))}if(t.ok){let e=await t.json();h(e.categories||[])}if(r.ok){let e=await r.json();u(e.departments||[])}}catch(e){console.error("Failed to fetch categories:",e)}finally{b(!1)}},P=()=>{E({name:"",description:""}),w(null),C(null),A(null),z(""),v(!0)},H=e=>{E({name:e.name,description:e.description}),w(e),C(null),A(null),z(""),v(!0)},R=e=>{E({name:e.name,description:e.description||""}),C(e),w(null),A(null),z(""),v(!0)},O=async()=>{if(!M.name.trim())return void z("Name is required");B(!0),z("");try{let e="",t="POST";f?(e="/api/categories/".concat(f.id),t="PUT"):N?(e="/api/preset-categories/".concat(N.id),t="PUT"):L?(e="/api/preset-departments/".concat(L.id),t="PUT"):e="preset"===n?"/api/preset-categories":"/api/categories";let r=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(M)}),a=await r.json();r.ok?(F(),v(!1),w(null),C(null),A(null),E({name:"",description:""}),z("")):z(a.error||"Failed to save")}catch(e){console.error("Failed to save:",e),z("Failed to save. Please try again.")}finally{B(!1)}},V=async e=>{if(confirm('Delete category "'.concat(e.name,'"?\n\nThis action cannot be undone.')))try{let t=await fetch("/api/categories/".concat(e.id),{method:"DELETE"}),r=await t.json();t.ok?(F(),alert('Category "'.concat(e.name,'" deleted successfully.'))):alert("Error: ".concat(r.error||"Failed to delete category"))}catch(e){console.error("Failed to delete category:",e),alert("Failed to delete category. Please try again.")}},U=async e=>{if(confirm('Delete preset category "'.concat(e.name,'"?\n\nThis action cannot be undone.')))try{let t=await fetch("/api/preset-categories/".concat(e.id),{method:"DELETE"});if(t.ok)F(),alert('Preset category "'.concat(e.name,'" deleted successfully.'));else{let e=await t.json();alert("Error: ".concat(e.error||"Failed to delete preset category"))}}catch(e){console.error("Failed to delete preset category:",e),alert("Failed to delete preset category. Please try again.")}},I=async e=>{try{(await fetch("/api/preset-categories/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,isActive:!e.isActive})})).ok&&F()}catch(e){console.error("Error toggling category status:",e)}},_=c.filter(e=>e.name.toLowerCase().includes(y.toLowerCase())||e.description.toLowerCase().includes(y.toLowerCase())),G=m.filter(e=>e.name.toLowerCase().includes(y.toLowerCase())||e.description&&e.description.toLowerCase().includes(y.toLowerCase()));return(g.filter(e=>e.name.toLowerCase().includes(y.toLowerCase())||e.description&&e.description.toLowerCase().includes(y.toLowerCase())),"loading"===t||p)?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50/30 via-slate-50 to-indigo-50/20 dark:from-brand-dark-blue dark:via-gray-925 dark:to-brand-black",children:[(0,a.jsx)(o.A,{}),(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-orange"})})]}):e?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50/30 via-slate-50 to-indigo-50/20 dark:from-brand-dark-blue dark:via-gray-925 dark:to-brand-black",children:[(0,a.jsx)(o.A,{}),(0,a.jsx)("div",{className:"md:hidden bg-white/90 dark:bg-brand-dark-blue/90 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700",children:(0,a.jsx)("div",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-brand-primary-text",children:"Manage Categories"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:[c.length," categories"]})]})]}),(0,a.jsx)("button",{onClick:P,className:"bg-indigo-600 hover:bg-indigo-700 text-white p-2 rounded-lg shadow-sm active:scale-95 touch-manipulation transition-all",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})})}),(0,a.jsx)("div",{className:"hidden md:block bg-white/90 dark:bg-brand-dark-blue/90 backdrop-blur-sm shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-1.5 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-brand-primary-text",children:"Categories"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:[c.length," total"]})]})]}),(0,a.jsxs)("button",{onClick:P,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-2 shadow-sm hover:shadow-md transform hover:scale-[1.02]",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),(0,a.jsx)("span",{children:"Add Category"})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 md:py-6",children:[(0,a.jsx)("div",{className:"md:hidden mb-4",children:(0,a.jsxs)("button",{onClick:()=>T(!D),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-900/5 dark:bg-white/5 rounded-lg border border-gray-300 dark:border-gray-700 text-left active:scale-95 touch-manipulation transition-all",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-brand-primary-text",children:y?'Searching: "'.concat(y,'"'):"Search Categories"})]}),(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-500 transition-transform duration-200 ".concat(D?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),(0,a.jsx)("div",{className:"bg-white/90 dark:bg-brand-dark-blue/90 backdrop-blur-sm rounded-lg border border-gray-300 dark:border-gray-700 p-4 mb-4 ".concat(D?"":"hidden md:block"),children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("input",{type:"text",placeholder:"Search categories...",value:y,onChange:e=>k(e.target.value),className:"w-full px-3 py-3 md:py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white/80 dark:bg-white/5 text-gray-900 dark:text-brand-primary-text placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm touch-manipulation"})}),(0,a.jsx)("button",{onClick:()=>k(""),className:"px-4 py-3 md:py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-sm active:scale-95 touch-manipulation",children:"Clear"})]})}),(0,a.jsx)("div",{className:"bg-white/90 dark:bg-brand-dark-blue/90 backdrop-blur-sm rounded-lg border border-gray-300 dark:border-gray-700 mb-4 overflow-hidden",children:(0,a.jsxs)("div",{className:"flex border-b border-gray-300 dark:border-gray-700",children:[(0,a.jsx)("button",{onClick:()=>l("asset"),className:"flex-1 px-4 py-3 text-sm font-medium transition-colors ".concat("asset"===n?"bg-indigo-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:"Asset Categories"}),(0,a.jsx)("button",{onClick:()=>l("preset"),className:"flex-1 px-4 py-3 text-sm font-medium transition-colors ".concat("preset"===n?"bg-indigo-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:"Preset Categories"})]})}),"asset"===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"md:hidden space-y-3 mb-6",children:_.map(e=>(0,a.jsxs)("div",{className:"bg-white/90 dark:bg-brand-dark-blue/90 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-brand-primary-text",children:e.name}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 mt-1",children:e.id})]})]}),!e.isEditable&&(0,a.jsxs)("div",{className:"flex items-center ml-2",children:[(0,a.jsx)("svg",{className:"w-3 h-3 mr-1 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"System"})]})]}),e.description&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:e.description})}),e.isEditable&&(0,a.jsxs)("div",{className:"flex space-x-2 pt-3 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("button",{onClick:()=>H(e),className:"flex-1 px-3 py-2 text-center text-sm font-medium bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 rounded-md hover:bg-indigo-200 dark:hover:bg-indigo-900/50 transition-colors active:scale-95 touch-manipulation",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>V(e),className:"flex-1 px-3 py-2 text-center text-sm font-medium bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-md hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors active:scale-95 touch-manipulation",children:"Delete"})]})]},e.id))}),(0,a.jsxs)("div",{className:"hidden md:block bg-white/90 dark:bg-brand-dark-blue/90 backdrop-blur-sm rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,a.jsx)("thead",{className:"bg-white/90 dark:bg-brand-dark-blue/90 backdrop-blur-sm",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/60 dark:text-white/60 uppercase tracking-wider",children:"Category"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/60 dark:text-white/60 uppercase tracking-wider",children:"Code"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/60 dark:text-white/60 uppercase tracking-wider",children:"Description"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-white/60 dark:text-white/60 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white/90 dark:bg-brand-dark-blue/90 backdrop-blur-sm divide-y divide-gray-300",children:_.map(e=>(0,a.jsxs)("tr",{className:"hover transition-colors",children:[(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mr-3",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),(0,a.jsx)("div",{className:"text-sm font-medium text-brand-primary-text",children:e.name})]})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 dark:bg-gray-800 text-brand-primary-text",children:e.id})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-brand-secondary-text",children:e.description}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm",children:(0,a.jsx)("div",{className:"flex items-center justify-end space-x-2",children:e.isEditable?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>H(e),className:"text-indigo-600 hover transition-colors font-medium",children:[(0,a.jsx)("svg",{className:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,a.jsxs)("button",{onClick:()=>V(e),className:"text-red-600 hover transition-colors font-medium",children:[(0,a.jsx)("svg",{className:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]}):(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-3 h-3 mr-1 text-white/50 hover:text-white/80 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,a.jsx)("span",{className:"text-xs text-white/50 hover:text-white/80 transition-colors",children:"System"})]})})})]},e.id))})]})}),0===_.length&&!p&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 text-white/50 hover:text-white/80 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-brand-primary-text",children:y?"No categories found":"Ready to organize your assets?"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600 dark:text-brand-secondary-text",children:y?"Try adjusting your search terms or clear the search to see all categories.":"Create custom categories to better organize your inventory beyond the system defaults."}),!y&&(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)("button",{onClick:P,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Your First Custom Category"]})})]})]})]}),"preset"===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"md:hidden space-y-3 mb-6",children:G.map(e=>(0,a.jsxs)("div",{className:"bg-white/90 dark:bg-brand-dark-blue/90 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-brand-primary-text",children:e.name}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:e.description})]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ml-2 ".concat(e.isActive?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"),children:e.isActive?"Active":"Inactive"})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("button",{onClick:()=>R(e),className:"flex-1 px-3 py-2 text-center text-sm font-medium bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 rounded-md hover:bg-indigo-200 dark:hover:bg-indigo-900/50 transition-colors",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>I(e),className:"flex-1 px-3 py-2 text-center text-sm font-medium bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.isActive?"Deactivate":"Activate"}),(0,a.jsx)("button",{onClick:()=>U(e),className:"flex-1 px-3 py-2 text-center text-sm font-medium bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-md hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:"Delete"})]})]},e.id))}),(0,a.jsxs)("div",{className:"hidden md:block bg-white/90 dark:bg-brand-dark-blue/90 backdrop-blur-sm rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,a.jsx)("thead",{className:"bg-white/90 dark:bg-brand-dark-blue/90 backdrop-blur-sm",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/60 dark:text-white/60 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/60 dark:text-white/60 uppercase tracking-wider",children:"Description"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-white/60 dark:text-white/60 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-white/60 dark:text-white/60 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white/90 dark:bg-brand-dark-blue/90 backdrop-blur-sm divide-y divide-gray-300",children:G.map(e=>(0,a.jsxs)("tr",{className:"hover transition-colors",children:[(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-brand-primary-text",children:e.name})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-brand-secondary-text",children:e.description||"-"}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 rounded text-xs font-medium ".concat(e.isActive?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"),children:e.isActive?"Active":"Inactive"})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>R(e),className:"text-indigo-600 hover transition-colors font-medium",children:[(0,a.jsx)("svg",{className:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,a.jsx)("button",{onClick:()=>I(e),className:"text-gray-600 hover transition-colors font-medium",children:e.isActive?"Deactivate":"Activate"}),(0,a.jsxs)("button",{onClick:()=>U(e),className:"text-red-600 hover transition-colors font-medium",children:[(0,a.jsx)("svg",{className:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})})]},e.id))})]})}),0===G.length&&!p&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 text-white/50 hover:text-white/80 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-brand-primary-text",children:y?"No preset categories found":"No preset categories yet"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600 dark:text-brand-secondary-text",children:y?"Try adjusting your search terms.":"Get started by creating a preset category."}),!y&&(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)("button",{onClick:P,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Your First Preset Category"]})})]})]})]})]}),j&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white/90 dark:bg-brand-dark-blue/90 backdrop-blur-sm rounded-lg p-4 md:p-6 w-full max-w-md mx-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-brand-primary-text",children:f?"Edit Asset Category":N?"Edit Preset Category":L?"Edit Preset Department":"preset"===n?"Add Preset Category":"Add Asset Category"}),(0,a.jsx)("button",{onClick:()=>v(!1),className:"text-white/50 hover:text-white/80 transition-colors hover",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[W&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("span",{className:"text-sm text-red-700",children:W})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Name *"}),(0,a.jsx)("input",{type:"text",value:M.name,onChange:e=>E({...M,name:e.target.value}),disabled:S,className:"w-full px-3 py-3 md:py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white/80 dark:bg-white/5 text-gray-900 dark:text-brand-primary-text placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation",placeholder:"e.g., Drones, Cables, Stands"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),(0,a.jsx)("textarea",{value:M.description,onChange:e=>E({...M,description:e.target.value}),disabled:S,rows:3,className:"w-full px-3 py-3 md:py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white/80 dark:bg-white/5 text-gray-900 dark:text-brand-primary-text placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation",placeholder:"Brief description of what assets belong in this category..."})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"About Category Codes"}),(0,a.jsx)("p",{children:'A unique code will be automatically generated from your category name (e.g., "Drone Equipment" → "DROEQU"). This code is used in asset numbering like LSVR-DROEQU-0001.'})]})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-end space-y-2 md:space-y-0 md:space-x-3 mt-6",children:[(0,a.jsx)("button",{onClick:()=>v(!1),disabled:S,className:"w-full md:w-auto px-4 py-3 md:py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 touch-manipulation",children:"Cancel"}),(0,a.jsxs)("button",{onClick:O,disabled:S||!M.name.trim(),className:"w-full md:w-auto px-4 py-3 md:py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center active:scale-95 touch-manipulation",children:[S&&(0,a.jsxs)("svg",{className:"w-4 h-4 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l-3-2.647z"})]}),S?"Saving...":f?"Update Category":"Add Category"]})]})]})})]}):null}},20936:(e,t,r)=>{Promise.resolve().then(r.bind(r,9137))}},e=>{e.O(0,[2108,7244,8947,8441,5964,7358],()=>e(e.s=20936)),_N_E=e.O()}]);