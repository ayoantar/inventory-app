(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8453],{13506:(e,t,s)=>{Promise.resolve().then(s.bind(s,59728))},32383:()=>{},59728:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(95155),a=s(12108),n=s(35695),l=s(12115),i=s(6874),o=s.n(i),c=s(48947),d=s(62432),m=s(19659),x=s(26597),h=s(3925),u=s(91540);function p(e){let{isOpen:t,onClose:s,onConfirm:n}=e,{state:i,getCheckInItems:o,getCheckOutItems:c}=(0,d._)(),{data:m}=(0,a.useSession)(),[p,g]=(0,l.useState)(!1),[b,f]=(0,l.useState)({}),[j,v]=(0,l.useState)({});if(!t)return null;let y=o(),N=c(),w=e=>j[e]?null:b[e]||null,k=async()=>{g(!0);try{N.forEach(e=>{let t=w(e.assetId);e.expectedReturnDate=t?new Date(t).toISOString():void 0});let e=await n();e.success?0===e.errors.length||alert("Processed with some errors:\n".concat(e.errors.join("\n"))):alert("Failed to process transactions:\n".concat(e.errors.join("\n")))}catch(e){console.error("Processing error:",e),alert("An error occurred while processing the transactions")}finally{g(!1)}},C=()=>i.items.reduce((e,t)=>e+(t.asset.currentValue||t.asset.purchasePrice||0),0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:s}),(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-gray-900 backdrop-blur-xl rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col border border-gray-700",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-brand-primary-text",children:"Confirm Transactions"}),(0,r.jsxs)("p",{className:"text-sm text-brand-secondary-text mt-1",children:["Review all assets before processing ",i.items.length," transaction",1!==i.items.length?"s":""]})]}),(0,r.jsx)("button",{onClick:s,disabled:p,className:"text-gray-400 hover:text-gray-200 transition-colors disabled:opacity-50",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,r.jsxs)("div",{className:"space-y-6",children:[N.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("div",{className:"bg-orange-900/30 p-2 rounded-lg mr-3",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-brand-primary-text",children:["Assets to Check Out (",N.length,")"]}),(0,r.jsx)("p",{className:"text-sm text-brand-secondary-text",children:"These assets will be marked as checked out"})]})]}),(0,r.jsx)("div",{className:"bg-orange-900/20 rounded-lg border border-orange-600/50 overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-orange-600/30",children:[(0,r.jsx)("thead",{className:"bg-orange-900/30",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-orange-400 uppercase tracking-wider",children:"Asset"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-orange-400 uppercase tracking-wider",children:"Assigned To"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-orange-400 uppercase tracking-wider",children:"Return Date"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-orange-400 uppercase tracking-wider",children:"Value"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-orange-600/30",children:N.map(e=>{var t,s,a;return(0,r.jsxs)("tr",{className:"hover:bg-orange-900/10",children:[(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 mr-3 flex-shrink-0",children:e.asset.imageUrl?(0,r.jsx)("img",{src:e.asset.imageUrl,alt:e.asset.name,className:"w-10 h-10 object-cover rounded-lg border border-gray-600"}):(0,r.jsx)("div",{className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm",children:"\uD83D\uDCE6"})})}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-brand-primary-text truncate",children:e.asset.name}),(0,r.jsxs)("p",{className:"text-xs text-brand-secondary-text truncate",children:[e.asset.category.replace("_"," ")," • ",e.asset.serialNumber||"No S/N"]}),e.notes&&(0,r.jsxs)("p",{className:"text-xs text-gray-300 mt-1 italic",children:['"',e.notes,'"']})]})]})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("div",{className:"text-sm text-brand-primary-text",children:e.assignedUserName||(null==m||null==(t=m.user)?void 0:t.name)||(null==m||null==(s=m.user)?void 0:s.email)||"Current User"})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("input",{type:"date",value:b[e.assetId]||"",onChange:t=>{var s,r;return s=e.assetId,r=t.target.value,void(f(e=>({...e,[s]:r})),v(e=>({...e,[s]:!1})))},disabled:j[e.assetId],min:new Date().toISOString().split("T")[0],className:"block w-full px-3 py-1.5 bg-gray-900/50 border border-orange-600/30 rounded-md text-sm text-orange-100 placeholder-orange-400/50 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 focus:bg-gray-900/70 hover:border-orange-500/50 hover:bg-gray-900/70 transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed disabled:border-gray-700/50 disabled:text-gray-500 disabled:bg-gray-900/30 [&::-webkit-calendar-picker-indicator]:filter [&::-webkit-calendar-picker-indicator]:invert [&::-webkit-calendar-picker-indicator]:opacity-70 [&::-webkit-calendar-picker-indicator]:hover:opacity-100 [&::-webkit-calendar-picker-indicator]:cursor-pointer"}),(0,r.jsxs)("label",{className:"flex items-center text-xs text-orange-300 cursor-pointer hover:text-orange-200 transition-colors",children:[(0,r.jsx)("input",{type:"checkbox",checked:j[e.assetId]||!1,onChange:t=>{var s,r;return s=e.assetId,r=t.target.checked,void(v(e=>({...e,[s]:r})),r&&f(e=>({...e,[s]:null})))},className:"mr-2 rounded bg-gray-800 border-orange-600/50 text-orange-500 focus:ring-2 focus:ring-orange-500 focus:ring-offset-0 checked:bg-orange-600 checked:border-orange-600 hover:border-orange-500 transition-colors"}),"No return date"]})]})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("div",{className:"text-sm font-medium text-brand-primary-text",children:e.asset.currentValue||e.asset.purchasePrice?"$".concat(null==(a=e.asset.currentValue||e.asset.purchasePrice)?void 0:a.toLocaleString()):"-"})})]},e.assetId)})})]})})})]}),y.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("div",{className:"bg-green-900/30 p-2 rounded-lg mr-3",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-brand-primary-text",children:["Assets to Check In (",y.length,")"]}),(0,r.jsx)("p",{className:"text-sm text-brand-secondary-text",children:"These assets will be returned and marked as available"})]})]}),(0,r.jsx)("div",{className:"bg-green-900/20 rounded-lg border border-green-600/50 overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-green-600/30",children:[(0,r.jsx)("thead",{className:"bg-green-900/30",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-green-400 uppercase tracking-wider",children:"Asset"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-green-400 uppercase tracking-wider",children:"Current Status"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-green-400 uppercase tracking-wider",children:"Return Notes"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-green-400 uppercase tracking-wider",children:"Value"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-green-600/30",children:y.map(e=>{var t;return(0,r.jsxs)("tr",{className:"hover:bg-orange-900/10",children:[(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 mr-3 flex-shrink-0",children:e.asset.imageUrl?(0,r.jsx)("img",{src:e.asset.imageUrl,alt:e.asset.name,className:"w-10 h-10 object-cover rounded-lg border border-gray-600"}):(0,r.jsx)("div",{className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm",children:"\uD83D\uDCE6"})})}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-brand-primary-text truncate",children:e.asset.name}),(0,r.jsxs)("p",{className:"text-xs text-brand-secondary-text truncate",children:[e.asset.category.replace("_"," ")," • ",e.asset.serialNumber||"No S/N"]})]})]})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-900/30 text-yellow-400",children:e.asset.status.replace("_"," ")})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("div",{className:"text-sm text-brand-primary-text",children:e.notes||"No notes"})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("div",{className:"text-sm font-medium text-brand-primary-text",children:e.asset.currentValue||e.asset.purchasePrice?"$".concat(null==(t=e.asset.currentValue||e.asset.purchasePrice)?void 0:t.toLocaleString()):"-"})})]},e.assetId)})})]})})})]})]})}),(0,r.jsxs)("div",{className:"p-6 border-t border-gray-700 bg-gray-800/50",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsx)("div",{className:"text-sm text-brand-primary-text",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-brand-primary-text",children:"Total Items:"})," ",i.items.length]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-brand-primary-text",children:"Total Value:"})," $",C().toLocaleString()]}),N.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-brand-primary-text",children:"Check-outs:"})," ",N.length]}),y.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-brand-primary-text",children:"Check-ins:"})," ",y.length]})]})})}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,r.jsx)("div",{className:"relative inline-block",children:(0,r.jsxs)("button",{onClick:()=>{var e,t;let s=new Date,r=s.toISOString().split("T")[0],a=[];a.push(["EQUIPMENT CHECKOUT LIST"]),a.push(["Generated: ".concat(s.toLocaleString())]),a.push(["User: ".concat((null==m||null==(e=m.user)?void 0:e.name)||"Unknown"," (").concat((null==m||null==(t=m.user)?void 0:t.email)||"N/A",")")]),a.push([]);let n=[];n.push(["Transaction Type","Asset Name","Serial Number","Category","User","Return Date","Value","Notes"]),N.forEach(e=>{var t;let s=e.asset.currentValue||e.asset.purchasePrice||0,r=w(e.assetId);n.push(["CHECK OUT",e.asset.name,e.asset.serialNumber||"N/A",e.asset.category.replace("_"," "),e.assignedUserName||(null==m||null==(t=m.user)?void 0:t.name)||"N/A",r?new Date(r).toLocaleDateString():"No return date",s,e.notes||""])}),y.forEach(e=>{var t;let s=e.asset.currentValue||e.asset.purchasePrice||0;n.push(["CHECK IN",e.asset.name,e.asset.serialNumber||"N/A",e.asset.category.replace("_"," "),(null==m||null==(t=m.user)?void 0:t.name)||"Current User",new Date().toLocaleDateString(),s,e.notes||""])});let l=h.Wp.book_new(),i=h.Wp.aoa_to_sheet([...a,[],...n]);h.Wp.book_append_sheet(l,i,"Checkout List");let o=new Blob([h.M9(l,{bookType:"xlsx",type:"array"})],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,u.saveAs)(o,"checkout-list-".concat(r,".xlsx"))},disabled:p,className:"flex items-center px-3 py-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 text-white rounded-md text-sm font-medium disabled:cursor-not-allowed transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download List (.xlsx)"]})}),(0,r.jsxs)("button",{onClick:()=>{let e=new Date().toISOString().split("T")[0],t="Type,Asset Name,Serial Number,Category,User,Return Date,Value,Notes\n";N.forEach(e=>{var s;let r=e.asset.currentValue||e.asset.purchasePrice||0,a=w(e.assetId);t+='"CHECK OUT","'.concat(e.asset.name,'","').concat(e.asset.serialNumber||"N/A",'","').concat(e.asset.category.replace("_"," "),'","').concat(e.assignedUserName||(null==m||null==(s=m.user)?void 0:s.name)||"N/A",'","').concat(a?new Date(a).toLocaleDateString():"No return date",'","').concat(r,'","').concat(e.notes||"",'"\n')}),y.forEach(e=>{var s;let r=e.asset.currentValue||e.asset.purchasePrice||0;t+='"CHECK IN","'.concat(e.asset.name,'","').concat(e.asset.serialNumber||"N/A",'","').concat(e.asset.category.replace("_"," "),'","').concat((null==m||null==(s=m.user)?void 0:s.name)||"Current User",'","').concat(new Date().toLocaleDateString(),'","').concat(r,'","').concat(e.notes||"",'"\n')});let s=new Blob([t],{type:"text/csv;charset=utf-8;"});(0,u.saveAs)(s,"checkout-list-".concat(e,".csv"))},disabled:p,className:"flex items-center px-3 py-2 bg-purple-500 hover:bg-purple-600 disabled:opacity-50 text-white rounded-md text-sm font-medium disabled:cursor-not-allowed transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v1a1 1 0 01-1 1H6a1 1 0 01-1-1v-1m4-8v8m4-8v8m4-8v8M9 3h6a2 2 0 012 2v1H7V5a2 2 0 012-2z"})}),"Download List (.csv)"]}),(0,r.jsxs)("button",{onClick:()=>{var e,t;let s=new Date,r=s.toISOString().split("T")[0],a=C(),n=new x.Ay({orientation:"portrait",unit:"mm",format:"a4"});n.setFontSize(20),n.setFont("helvetica","bold"),n.setTextColor(255,102,0),n.text("LSVR WAREHOUSE",105,20,{align:"center"}),n.setFontSize(16),n.setTextColor(0,0,0),n.text("EQUIPMENT QUOTE",105,30,{align:"center"}),n.setFontSize(10),n.setFont("helvetica","normal"),n.text("Date: ".concat(s.toLocaleDateString()),20,45),n.text("Time: ".concat(s.toLocaleTimeString()),20,50),n.text("Quote #: ".concat(Date.now().toString().slice(-8)),20,55),n.text("Customer: ".concat((null==m||null==(e=m.user)?void 0:e.name)||"Unknown"),120,45),n.text("Email: ".concat((null==m||null==(t=m.user)?void 0:t.email)||"N/A"),120,50),n.setLineWidth(.5),n.line(20,60,190,60);let l=70;if(n.setFont("helvetica","bold"),n.setFontSize(10),n.text("Item",20,l),n.text("Category",80,l),n.text("Serial #",120,l),n.text("Value",170,l),n.setLineWidth(.2),n.line(20,l+2,190,l+2),l+=8,n.setFont("helvetica","normal"),n.setFontSize(9),i.items.forEach(e=>{let t=e.asset.currentValue||e.asset.purchasePrice||0,s=e.asset.name.length>30?e.asset.name.substring(0,27)+"...":e.asset.name;n.text(s,20,l),n.text(e.asset.category.replace("_"," "),80,l),n.text(e.asset.serialNumber||"N/A",120,l),n.text("$".concat(t.toLocaleString()),170,l),(l+=6)>260&&(n.addPage(),l=20)}),l+=5,n.setLineWidth(.5),n.line(20,l,190,l),l+=8,n.setFont("helvetica","bold"),n.setFontSize(11),N.length>0){n.text("Items Checking Out: ".concat(N.length),20,l);let e=N.reduce((e,t)=>e+(t.asset.currentValue||t.asset.purchasePrice||0),0);n.text("Checkout Value: $".concat(e.toLocaleString()),80,l),l+=6}y.length>0&&(n.text("Items Checking In: ".concat(y.length),20,l),l+=6),n.setFontSize(12),n.text("TOTAL VALUE:",120,l),n.setTextColor(255,102,0),n.text("$".concat(a.toLocaleString()),170,l),n.setTextColor(128,128,128),n.setFontSize(8),n.setFont("helvetica","italic"),n.text("This quote is valid for reference purposes only.",105,270,{align:"center"}),n.text("Generated by LSVR Inventory Management System",105,275,{align:"center"}),n.text("Page 1",105,285,{align:"center"}),n.save("equipment-quote-".concat(r,".pdf"))},disabled:p,className:"flex items-center px-3 py-2 bg-green-600 hover:bg-green-700 disabled:opacity-50 text-white rounded-md text-sm font-medium disabled:cursor-not-allowed transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Download Quote (PDF)"]}),(0,r.jsx)("div",{className:"text-xs text-gray-400 hover:text-gray-300 transition-colors flex items-center ml-2",children:"\uD83D\uDCA1 Save these documents for your records"})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:s,disabled:p,className:"flex-1 px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),(0,r.jsx)("button",{onClick:k,disabled:p,className:"flex-1 px-4 py-2 bg-brand-orange hover:bg-orange-600 disabled:opacity-50 text-white rounded-md text-sm font-medium disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l-3-2.647z"})]}),"Processing ",i.items.length," Transaction",1!==i.items.length?"s":"","..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Confirm & Process All Transactions"]})})]}),(0,r.jsx)("div",{className:"mt-3 text-xs text-brand-secondary-text text-center",children:"⚠️ This action cannot be undone. Please review all details carefully."})]})]})})]})}function g(e){let{onPresetSelect:t,onAddMissingItems:s,onOpenSubstitutions:a,isDetecting:n=!1}=e,{state:i}=(0,d._)(),[o,c]=(0,l.useState)([]),[m,x]=(0,l.useState)(!1),[h,u]=(0,l.useState)(!0);(0,l.useEffect)(()=>{if(0===i.items.length)return void c([]);p()},[i.items]);let p=async()=>{if(0!==i.items.length){x(!0);try{let t=i.items.map(e=>e.assetId),s=await fetch("/api/presets/detect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assetIds:t})});if(s.ok){var e;let t=await s.json();c(t.matches||[]),(null==(e=t.matches)?void 0:e.length)>0&&t.matches[0].matchPercentage>=70&&u(!0)}}catch(e){console.error("Failed to detect presets:",e)}finally{x(!1)}}};return 0===i.items.length||0===o.length?null:(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("button",{onClick:()=>u(!h),className:"flex items-center space-x-3 text-left",children:[(0,r.jsx)("div",{className:"p-2 bg-gradient-to-r from-purple-100 to-purple-200 rounded-lg",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Detected Presets"}),(0,r.jsxs)("p",{className:"text-sm text-brand-primary-text",children:[o.length," preset",1!==o.length?"s":""," match your scanned items"]})]}),(0,r.jsx)("svg",{className:"w-5 h-5 text-white/50 hover:text-white/80 transition-colors transition-transform duration-200 ".concat(h?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"})]}),h&&(0,r.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl border border-gray-600/50 shadow-sm",children:(0,r.jsx)("div",{className:"p-6 space-y-4",children:o.map((e,n)=>{var l,i;return(0,r.jsxs)("div",{className:"relative overflow-hidden rounded-xl border transition-all duration-200 hover:shadow-md ".concat(e.matchPercentage>=90?"bg-gradient-to-r from-green-50 to-green-100/50 border-green-200/50":e.matchPercentage>=70?"bg-gradient-to-r from-blue-50 to-blue-100/50 border-blue-200/50":"bg-gradient-to-r from-orange-50 to-orange-100/50 border-orange-200/50"),children:[(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold text-brand-primary-text",children:e.preset.name}),(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ".concat((l=e.matchPercentage)>=90?"bg-green-100 text-green-800":l>=70?"bg-blue-100 text-blue-800":l>=50?"bg-yellow-100 text-yellow-800":"bg-orange-100 text-orange-800"),children:[e.matchPercentage,"% match"]}),e.preset.category&&(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-800 text-brand-primary-text",children:e.preset.category})]}),e.preset.description&&(0,r.jsx)("p",{className:"text-sm text-brand-primary-text mb-3",children:e.preset.description})]})}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,r.jsxs)("span",{className:"text-brand-primary-text",children:["Progress: ",e.matchedItems," of ",e.totalItems," items"]}),(0,r.jsxs)("span",{className:"font-semibold ".concat((i=e.matchPercentage)>=90?"text-green-600":i>=70?"text-blue-600":i>=50?"text-yellow-600":"text-orange-600"),children:[e.matchPercentage,"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 ".concat(e.matchPercentage>=90?"bg-gradient-to-r from-green-500 to-green-600":e.matchPercentage>=70?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-orange-500 to-orange-600"),style:{width:"".concat(e.matchPercentage,"%")}})})]}),e.missingItems.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("h5",{className:"text-sm font-semibold text-gray-300 mb-2",children:["Missing Items (",e.missingItems.length,"):"]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.missingItems.slice(0,5).map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.isRequired?"bg-red-100 text-red-800":"bg-gray-100 dark:bg-gray-800 text-brand-primary-text"),children:[e.name," ",e.quantity>1&&"(".concat(e.quantity,")"),e.isRequired&&" *"]},e.id)),e.missingItems.length>5&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-800 text-brand-primary-text",children:["+",e.missingItems.length-5," more"]})]})]}),e.availableSubstitutions&&e.availableSubstitutions.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h5",{className:"text-sm font-semibold text-green-700 mb-2",children:"Available Substitutions:"}),(0,r.jsxs)("div",{className:"text-xs text-green-600",children:[e.availableSubstitutions.length," item",1!==e.availableSubstitutions.length?"s":""," have substitute options"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 pt-3 border-t border-gray-700/50",children:[e.matchPercentage>=50&&(0,r.jsx)("button",{onClick:()=>null==t?void 0:t(e.preset.id),className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white rounded-lg font-medium transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-[1.02] text-sm",children:"Complete This Preset"}),e.missingItems.length>0&&(0,r.jsx)("button",{onClick:()=>null==s?void 0:s(e.preset.id,e.missingItems),className:"px-4 py-2 border border-gray-600 text-gray-300 hover rounded-lg font-medium transition-all duration-200 text-sm",children:"Add Missing Items"}),e.availableSubstitutions&&e.availableSubstitutions.length>0&&(0,r.jsx)("button",{onClick:()=>null==a?void 0:a(e.preset.id,e.preset.name,e.availableSubstitutions),className:"px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-medium transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-[1.02] text-sm",children:"View Substitutions"})]})]}),e.preset.priority>0&&(0,r.jsx)("div",{className:"absolute top-3 right-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:[(0,r.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,r.jsxs)("span",{children:["Priority ",e.preset.priority]})]})})]},e.preset.id)})})})]})}function b(e){let{isOpen:t,onClose:s,onConfirm:a,availableSubstitutions:n,presetName:i}=e,[o,c]=(0,l.useState)({}),[d,m]=(0,l.useState)(!1);if(!t)return null;let x=async()=>{m(!0);try{await a(o),s()}catch(e){console.error("Failed to apply substitutions:",e)}finally{m(!1)}},h=Object.keys(o).length,u=n.length;return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-gray-900/5 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[(0,r.jsx)("div",{className:"px-6 py-5 border-b border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-brand-primary-text",children:"Item Substitutions"}),(0,r.jsxs)("p",{className:"text-sm text-brand-primary-text mt-1",children:['Select substitute items for "',i,'"']})]}),(0,r.jsx)("button",{onClick:s,className:"text-white/50 hover:text-white/80 transition-colors hover transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,r.jsxs)("div",{className:"px-6 py-4 bg-gray-900/5/30",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)("span",{className:"text-brand-primary-text",children:["Substitutions selected: ",h," of ",u]}),(0,r.jsxs)("span",{className:"font-medium text-purple-600",children:[Math.round(h/u*100),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(h/u*100,"%")}})})]}),(0,r.jsx)("div",{className:"px-6 py-4 max-h-96 overflow-y-auto",children:(0,r.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,r.jsxs)("div",{className:"border border-gray-600 rounded-xl p-4",children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("h3",{className:"font-medium text-brand-primary-text flex items-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),"Missing: ",e.itemName]}),(0,r.jsx)("p",{className:"text-sm text-brand-primary-text",children:"Select a substitute item from the available options:"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"flex items-center p-3 border border-gray-600 rounded-lg hover cursor-pointer transition-colors",children:[(0,r.jsx)("input",{type:"radio",name:"substitute-".concat(e.itemId),value:"",checked:!o[e.itemId],onChange:()=>{let t={...o};delete t[e.itemId],c(t)},className:"w-4 h-4 text-purple-600 border-gray-600 focus:ring-purple-500 focus:ring-2"}),(0,r.jsx)("span",{className:"ml-3 text-sm text-gray-300",children:"Skip this item (proceed without substitute)"})]}),e.substitutes.map(t=>(0,r.jsxs)("label",{className:"flex items-center p-3 border border-gray-600 rounded-lg hover cursor-pointer transition-colors",children:[(0,r.jsx)("input",{type:"radio",name:"substitute-".concat(e.itemId),value:t.id,checked:o[e.itemId]===t.id,onChange:()=>{var s,r;return s=e.itemId,r=t.id,void c(e=>({...e,[s]:r}))},className:"w-4 h-4 text-purple-600 border-gray-600 focus:ring-purple-500 focus:ring-2"}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-brand-primary-text",children:t.name}),(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("AVAILABLE"===t.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:t.status})]}),t.description&&(0,r.jsx)("p",{className:"text-xs text-brand-primary-text mt-1",children:t.description})]})]},t.id))]})]},e.itemId))})}),(0,r.jsx)("div",{className:"px-6 py-4 border-t border-gray-700 bg-gray-900/5/30",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"text-sm text-brand-primary-text",children:h>0&&(0,r.jsxs)(r.Fragment,{children:["Selected ",h," substitute",1!==h?"s":""]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 border border-gray-600 text-gray-300 hover rounded-lg font-medium transition-all duration-200",children:"Cancel"}),(0,r.jsx)("button",{onClick:x,disabled:d,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white rounded-lg font-medium transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"w-4 h-4 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l-3-2.647z"})]}),"Applying..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Apply Substitutions"]})})]})]})})]})})}function f(){let{data:e,status:t}=(0,a.useSession)(),s=(0,n.useRouter)(),{state:i,removeItem:x,clearCart:h,processCart:u,addItem:f,canAddItem:j,getCheckInItems:v,getCheckOutItems:y}=(0,d._)(),[N,w]=(0,l.useState)(""),[k,C]=(0,l.useState)(!1),[L,S]=(0,l.useState)(!1),[M,I]=(0,l.useState)(""),[A,V]=(0,l.useState)(""),[T,W]=(0,l.useState)("CHECK_OUT"),[B,z]=(0,l.useState)(!1),[P,D]=(0,l.useState)(!1),[E,H]=(0,l.useState)(!1),[_,F]=(0,l.useState)(null),O=e=>{if(e.description&&""!==e.description.trim())return e.description;let t="".concat(e.manufacturer||""," ").concat(e.model||"").trim();return t&&"null"!==t&&"Generic"!==t?t:e.name&&""!==e.name.trim()?e.name:"Asset ".concat(e.id)};(0,l.useEffect)(()=>{if("loading"!==t&&"unauthenticated"===t)return void s.push("/auth/signin")},[t,s]);let U=async e=>{if(e.trim()){S(!0),I(""),V("");try{let t=await fetch("/api/assets/search?q=".concat(encodeURIComponent(e.trim())));if(t.ok){let e=await t.json();if(0===e.length)return void I("No asset found with this code");let s=e[0];if("CHECK_OUT"===T&&"AVAILABLE"!==s.status)return void I("Cannot check out ".concat(O(s)," - currently ").concat(s.status.toLowerCase().replace("_"," ")));if("CHECK_IN"===T&&"CHECKED_OUT"!==s.status)return void I("Cannot check in ".concat(O(s)," - currently ").concat(s.status.toLowerCase().replace("_"," ")));let r=j(s,T);if(!r.canAdd)return void I(r.reason||"Cannot add this asset to cart");f(s,T)?(V("✅ ".concat(O(s)," added to ").concat(T.toLowerCase().replace("_"," ")," queue")),w(""),setTimeout(()=>V(""),3e3),setTimeout(()=>{D(!0),setTimeout(()=>D(!1),1500)},500)):I("Failed to add asset to cart")}else I("Failed to search for asset")}catch(e){console.error("Search error:",e),I("An error occurred while searching")}finally{S(!1)}}},R=async()=>{let e=await u();return e.success&&0===e.errors.length&&(z(!1),s.push("/assets"),setTimeout(()=>{alert("✅ Successfully processed ".concat(i.items.length," transaction").concat(1!==i.items.length?"s":"","!"))},100)),e},K=async e=>{try{let t=await fetch("/api/presets/".concat(e));if(t.ok){let e=await t.json(),s=i.items.map(e=>e.assetId),r=e.items.filter(e=>e.assetId&&!s.includes(e.assetId));if(r.length>0){let t="Add ".concat(r.length,' missing items from "').concat(e.name,'" preset?');confirm(t)&&await Q(r)}else V('✅ All items from "'.concat(e.name,'" preset are already in your cart!')),setTimeout(()=>V(""),3e3)}}catch(e){console.error("Failed to load preset:",e),I("Failed to load preset details")}},q=async(e,t)=>{try{let s=await fetch("/api/presets/".concat(e));if(s.ok){let e=(await s.json()).items.filter(e=>t.some(t=>t.id===e.id));e.length>0&&await Q(e)}}catch(e){console.error("Failed to add missing items:",e),I("Failed to add missing items")}},Q=async e=>{let t=0,s=0;for(let r of e)r.assetId&&(f(r.asset,T)?t++:s++);t>0&&(V("✅ Added ".concat(t," item").concat(1!==t?"s":""," from preset!")),setTimeout(()=>V(""),3e3)),s>0&&(I("⚠️ Failed to add ".concat(s," item").concat(1!==s?"s":""," (already in cart or unavailable)")),setTimeout(()=>I(""),5e3))},$=async e=>{if(_)try{let t=0;for(let[s,r]of Object.entries(e))if(r){let e=await fetch("/api/assets/".concat(r));if(e.ok){let s=await e.json();f(s,T)&&t++}}t>0&&(V("✅ Added ".concat(t," substitute item").concat(1!==t?"s":"",' from "').concat(_.presetName,'" preset!')),setTimeout(()=>V(""),3e3)),F(null)}catch(e){console.error("Failed to add substitutions:",e),I("Failed to add substitute items")}};if("loading"===t)return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-brand-dark-blue via-gray-925 to-brand-black",children:[(0,r.jsx)(c.A,{}),(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-orange"})})]});if(!e)return null;let G=v(),J=y();return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-brand-dark-blue via-gray-925 to-brand-black",children:[(0,r.jsx)(c.A,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto py-3 sm:py-6 lg:py-8 px-3 sm:px-4 lg:px-8",children:[(0,r.jsx)("div",{className:"mb-4 sm:mb-6 lg:mb-8",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)("div",{className:"p-1.5 sm:p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:(0,r.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6H19M7 13v0a2 2 0 002 2h8.5m-10.5-2v-2a2 2 0 012-2h8.5"})})}),(0,r.jsx)("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-white to-brand-secondary-text bg-clip-text text-transparent",children:"Transaction Cart"})]}),(0,r.jsx)("p",{className:"text-xs sm:text-sm lg:text-base text-brand-secondary-text ml-9 sm:ml-11 hidden sm:block",children:"Streamline your asset management with bulk operations"})]}),(0,r.jsxs)(o(),{href:"/assets",className:"inline-flex items-center justify-center px-3 py-2 sm:px-4 sm:py-2.5 bg-gray-900/5 border border-gray-600 rounded-lg text-gray-300 hover font-medium transition-all duration-200 shadow-sm hover:shadow-md text-sm sm:text-base w-full sm:w-auto",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1.5 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]})]})}),(0,r.jsxs)("div",{className:"flex flex-col lg:grid lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[(0,r.jsx)("div",{className:"order-1 lg:order-1 lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-gray-900/5 backdrop-blur-sm rounded-xl sm:rounded-2xl border border-gray-600/50 shadow-lg p-3 sm:p-5 lg:p-8 lg:sticky lg:top-6 transition-all duration-300",children:[(0,r.jsxs)("div",{className:"mb-4 sm:mb-6",children:[(0,r.jsxs)("h2",{className:"text-base sm:text-lg font-semibold text-brand-primary-text mb-3 sm:mb-4 flex items-center",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2 sm:mr-3"}),"Transaction Mode"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 bg-gray-900/5 rounded-xl p-1.5 border border-gray-600",children:[(0,r.jsxs)("button",{onClick:()=>W("CHECK_OUT"),className:"px-3 py-2.5 sm:px-4 sm:py-3 text-xs sm:text-sm font-semibold rounded-lg transition-all duration-200 flex flex-col sm:flex-row items-center justify-center touch-manipulation ".concat("CHECK_OUT"===T?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/25 transform scale-[1.02]":"text-gray-300 hover:bg-gray-800 bg-gray-800"),children:[(0,r.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mb-1 sm:mb-0 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,r.jsx)("span",{className:"text-xs sm:text-sm",children:"Check Out"})]}),(0,r.jsxs)("button",{onClick:()=>W("CHECK_IN"),className:"px-3 py-2.5 sm:px-4 sm:py-3 text-xs sm:text-sm font-semibold rounded-lg transition-all duration-200 flex flex-col sm:flex-row items-center justify-center touch-manipulation ".concat("CHECK_IN"===T?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg shadow-green-500/25 transform scale-[1.02]":"text-gray-300 hover:bg-gray-800 bg-gray-800"),children:[(0,r.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mb-1 sm:mb-0 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{className:"text-xs sm:text-sm",children:"Check In"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full"}),(0,r.jsx)("h3",{className:"text-base font-semibold text-brand-primary-text",children:"Add Items"})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),U(N)},className:"space-y-3",children:[(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("input",{type:"text",value:N,onChange:e=>w(e.target.value),placeholder:"Scan or enter ID",className:"w-full pl-10 pr-10 py-3 sm:py-3.5 border-2 border-gray-600 rounded-xl bg-gray-900/5 text-brand-primary-text placeholder-gray-600 focus:outline-none focus:border-blue-500/50 transition-all duration-200 text-sm font-medium text-center touch-manipulation",autoFocus:!0}),(0,r.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})}),(0,r.jsx)("button",{type:"button",onClick:()=>C(!0),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1.5 text-gray-400 hover:text-gray-300 rounded-lg transition-colors touch-manipulation",title:"Open camera scanner",children:(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),(0,r.jsx)("button",{type:"submit",disabled:L||!N.trim(),className:"w-full px-4 py-3 text-white rounded-xl font-semibold transition-all duration-200 flex items-center justify-center shadow-md active:scale-95 disabled:transform-none disabled:opacity-50 disabled:cursor-not-allowed text-sm touch-manipulation ".concat("CHECK_OUT"===T?"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 shadow-orange-500/25 hover:shadow-orange-500/40":"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 shadow-green-500/25 hover:shadow-green-500/40"),children:L?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"w-4 h-4 animate-spin mr-2",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l-3-2.647z"})]}),"Searching..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add to ","CHECK_OUT"===T?"Checkout":"Checkin"," Queue"]})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{className:"text-xs text-brand-secondary-text leading-relaxed",children:"Scan with camera or manually enter asset identifiers"})})]}),M&&(0,r.jsx)("div",{className:"p-4 bg-gradient-to-r bg-red-900/20 border border-red-600/50 rounded-xl shadow-sm animate-in slide-in-from-top-2 duration-300",children:(0,r.jsxs)("p",{className:"text-sm text-red-400 flex items-center font-medium",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),M]})}),A&&(0,r.jsx)("div",{className:"p-4 bg-green-900/20 border border-green-600/50 rounded-xl shadow-sm animate-in slide-in-from-top-2 duration-300",children:(0,r.jsxs)("p",{className:"text-sm text-green-400 flex items-center font-medium",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),A]})})]})]})}),(0,r.jsxs)("div",{className:"order-2 lg:order-2 lg:col-span-2",children:[(0,r.jsx)(g,{onPresetSelect:K,onAddMissingItems:q,onOpenSubstitutions:(e,t,s)=>{F({presetId:e,presetName:t,substitutions:s}),H(!0)},isDetecting:P}),(0,r.jsxs)("div",{className:"bg-gray-900/5 backdrop-blur-sm rounded-xl sm:rounded-2xl border border-gray-600/50 shadow-lg",children:[(0,r.jsx)("div",{className:"p-3 sm:p-5 lg:p-8 border-b border-gray-600/50",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full"}),(0,r.jsxs)("h2",{className:"text-base sm:text-lg font-bold text-brand-primary-text",children:["Cart Items (",i.items.length,")"]})]}),(0,r.jsxs)("div",{className:"text-sm text-brand-primary-text ml-5 flex flex-wrap gap-2",children:[J.length>0&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs font-medium bg-orange-900/30 text-orange-400",children:[J.length," to check out"]}),G.length>0&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs font-medium bg-green-900/30 text-green-400",children:[G.length," to check in"]})]})]}),i.items.length>0&&(0,r.jsx)("button",{onClick:h,className:"w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-3 text-red-400 hover:bg-gray-800 bg-gray-800 rounded-xl transition-all duration-200 text-sm font-semibold shadow-sm hover:shadow-md transform hover:scale-[1.02] active:scale-95 border border-red-600/50 touch-manipulation",children:"Clear All"})]})}),(0,r.jsx)("div",{className:"p-3 sm:p-5 lg:p-8",children:0===i.items.length?(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("div",{className:"w-24 h-24 mx-auto bg-gradient-to-br from-blue-900/30 to-purple-900/30 rounded-2xl flex items-center justify-center mb-6",children:(0,r.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})}),(0,r.jsx)("h3",{className:"text-xl font-semibold bg-gradient-to-r from-white to-brand-secondary-text bg-clip-text text-transparent mb-3",children:"Ready to scan"}),(0,r.jsx)("p",{className:"text-brand-primary-text max-w-sm mx-auto leading-relaxed",children:"Use the scanner or enter asset codes to start building your cart"})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[J.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,r.jsx)("div",{className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),(0,r.jsxs)("h3",{className:"text-xl font-bold text-orange-400",children:["Check Out Queue (",J.length,")"]})]}),(0,r.jsx)("div",{className:"bg-orange-900/20 rounded-xl border border-orange-600/50 overflow-hidden",children:J.map((e,t)=>{var s;return(0,r.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 hover transition-all duration-200 space-y-3 sm:space-y-0 ".concat(t!==J.length-1?"border-b border-orange-600/30":""),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:e.asset.imageUrl?(0,r.jsx)("img",{src:e.asset.imageUrl,alt:O(e.asset),className:"w-12 h-12 object-cover rounded-lg border border-orange-600/50"}):(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-900/30 to-orange-800/30 rounded-lg flex items-center justify-center border border-orange-600/50",children:(0,r.jsx)("span",{className:"text-lg",children:"\uD83D\uDCE6"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("h4",{className:"font-semibold text-brand-primary-text text-base mb-1",children:e.asset.name}),e.asset.description&&(0,r.jsx)("p",{className:"text-xs text-gray-400 overflow-hidden leading-relaxed",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.asset.description})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-brand-primary-text",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),e.asset.category.replace("_"," ")]}),e.asset.serialNumber&&(0,r.jsxs)("span",{className:"flex items-center truncate",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"S/N: ",e.asset.serialNumber]}),e.asset.location&&(0,r.jsxs)("span",{className:"flex items-center truncate",children:[(0,r.jsxs)("svg",{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.asset.location]}),(e.asset.currentValue||e.asset.purchasePrice)&&(0,r.jsxs)("span",{className:"flex items-center font-medium text-orange-400 col-span-2",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Value: $",null==(s=e.asset.currentValue||e.asset.purchasePrice)?void 0:s.toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between sm:justify-end space-x-2 flex-shrink-0 w-full sm:w-auto",children:[(0,r.jsx)("span",{className:"text-xs font-medium text-orange-400 bg-orange-900/30 px-2 py-1 rounded-full",children:"Checking Out"}),(0,r.jsx)("button",{onClick:()=>x(e.assetId),className:"text-red-400 hover p-2 rounded-lg hover transition-all duration-200 transform hover:scale-110 active:scale-95 touch-manipulation",title:"Remove from cart",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})},e.assetId)})})]}),G.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,r.jsx)("div",{className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("h3",{className:"text-xl font-bold text-green-400",children:["Check In Queue (",G.length,")"]})]}),(0,r.jsx)("div",{className:"bg-green-900/20 rounded-xl border border-green-600/50 overflow-hidden",children:G.map((e,t)=>{var s;return(0,r.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 hover transition-all duration-200 space-y-3 sm:space-y-0 ".concat(t!==G.length-1?"border-b border-green-600/30":""),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:e.asset.imageUrl?(0,r.jsx)("img",{src:e.asset.imageUrl,alt:O(e.asset),className:"w-12 h-12 object-cover rounded-lg border border-green-600/50"}):(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-900/30 to-green-800/30 rounded-lg flex items-center justify-center border border-green-600/50",children:(0,r.jsx)("span",{className:"text-lg",children:"\uD83D\uDCE6"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("h4",{className:"font-semibold text-brand-primary-text text-base mb-1",children:e.asset.name}),e.asset.description&&(0,r.jsx)("p",{className:"text-xs text-gray-400 overflow-hidden leading-relaxed",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.asset.description})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-brand-primary-text",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),e.asset.category.replace("_"," ")]}),e.asset.serialNumber&&(0,r.jsxs)("span",{className:"flex items-center truncate",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"S/N: ",e.asset.serialNumber]}),e.asset.location&&(0,r.jsxs)("span",{className:"flex items-center truncate",children:[(0,r.jsxs)("svg",{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.asset.location]}),(e.asset.currentValue||e.asset.purchasePrice)&&(0,r.jsxs)("span",{className:"flex items-center font-medium text-green-400 col-span-2",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Value: $",null==(s=e.asset.currentValue||e.asset.purchasePrice)?void 0:s.toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between sm:justify-end space-x-2 flex-shrink-0 w-full sm:w-auto",children:[(0,r.jsx)("span",{className:"text-xs font-medium text-green-400 bg-green-900/30 px-2 py-1 rounded-full",children:"Checking In"}),(0,r.jsx)("button",{onClick:()=>x(e.assetId),className:"text-red-400 hover p-2 rounded-lg hover transition-all duration-200 transform hover:scale-110 active:scale-95 touch-manipulation",title:"Remove from cart",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})},e.assetId)})})]})]})}),i.items.length>0&&(0,r.jsx)("div",{className:"p-4 sm:p-6 lg:p-8 border-t border-gray-600/50 bg-gradient-to-r from-gray-900/50 to-gray-800/30 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,r.jsx)("div",{className:"text-sm text-brand-primary-text",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{className:"font-semibold text-brand-primary-text text-base sm:text-lg",children:i.items.length}),(0,r.jsx)("span",{className:"ml-1 text-sm sm:text-base",children:"total items ready to process"})]})]})}),(0,r.jsxs)("button",{onClick:()=>z(!0),className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-xl font-semibold transition-all duration-200 flex items-center justify-center shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40 transform hover:scale-[1.02] active:scale-95 text-sm sm:text-base touch-manipulation",children:[(0,r.jsx)("svg",{className:"w-4 sm:w-5 h-4 sm:h-5 mr-2 sm:mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Process All Transactions"]})]})})]})]})]})]}),(0,r.jsx)(m.A,{isOpen:k,onClose:()=>C(!1),onScanSuccess:(e,t)=>{console.log("Scanned: ".concat(e," (").concat(t,")")),C(!1),w(e),U(e)},onScanError:e=>{console.error("Scan error:",e),I("Camera scanning error. Please try manual entry.")}}),(0,r.jsx)(p,{isOpen:B,onClose:()=>z(!1),onConfirm:R}),(0,r.jsx)(b,{isOpen:E,onClose:()=>{H(!1),F(null)},onConfirm:$,availableSubstitutions:(null==_?void 0:_.substitutions)||[],presetName:(null==_?void 0:_.presetName)||""})]})}},83686:()=>{}},e=>{e.O(0,[5604,3524,5033,3930,2108,7244,8015,1576,8947,6438,8441,5964,7358],()=>e(e.s=13506)),_N_E=e.O()}]);