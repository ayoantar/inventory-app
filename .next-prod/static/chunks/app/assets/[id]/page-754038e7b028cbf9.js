(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5268],{19355:(e,t,r)=>{Promise.resolve().then(r.bind(r,46567))},46567:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(95155),s=r(12108),n=r(35695),o=r(12115),d=r(6874),i=r.n(d),l=r(48947);function c(e){let{asset:t,isOpen:r,onClose:s,onSuccess:n}=e,[d,i]=(0,o.useState)(!1),[l,c]=(0,o.useState)(""),[x,m]=(0,o.useState)({notes:"",dueDate:"",assignedTo:""}),u=async e=>{e.preventDefault(),i(!0),c("");try{let e=await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assetId:t.id,type:"CHECK_OUT",...x})});if(e.ok)n(),s(),m({notes:"",dueDate:"",assignedTo:""});else{let t=await e.json();c(t.error||"Failed to check out asset")}}catch(e){c("An error occurred while checking out the asset")}finally{i(!1)}},h=e=>{let{name:t,value:r}=e.target;m(e=>({...e,[t]:r}))};return r?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-gray-900/5 rounded-lg shadow-xl max-w-md w-full",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-brand-primary-text",children:"Check Out Asset"}),(0,a.jsx)("button",{onClick:s,className:"text-white/50 hover:text-white/80 transition-colors hover transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("form",{onSubmit:u,className:"px-6 py-4",children:[l&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsx)("p",{className:"text-sm text-red-800",children:l})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"bg-gray-900/5 rounded-md p-3",children:[(0,a.jsx)("h3",{className:"font-medium text-brand-primary-text",children:t.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-300",children:[t.manufacturer," ",t.model]}),t.serialNumber&&(0,a.jsx)("p",{className:"text-xs text-gray-600 dark:text-brand-secondary-text font-mono",children:t.serialNumber})]})}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Assigned To"}),(0,a.jsx)("input",{type:"text",name:"assignedTo",value:x.assignedTo,onChange:h,placeholder:"Person or department name",className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Due Date (Optional)"}),(0,a.jsx)("input",{type:"date",name:"dueDate",value:x.dueDate,onChange:h,className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes (Optional)"}),(0,a.jsx)("textarea",{name:"notes",value:x.notes,onChange:h,rows:3,placeholder:"Any additional notes about this checkout...",className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:d,className:"flex-1 bg-slate-600 hover text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 transition-colors",children:d?"Checking Out...":"Check Out"})]})]})]})}):null}function x(e){let{asset:t,isOpen:r,onClose:s,onSuccess:n}=e,[d,i]=(0,o.useState)(!1),[l,c]=(0,o.useState)(""),[x,m]=(0,o.useState)(""),u=async e=>{e.preventDefault(),i(!0),c("");try{let e=await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assetId:t.id,type:"CHECK_IN",notes:x})});if(e.ok)n(),s(),m("");else{let t=await e.json();c(t.error||"Failed to check in asset")}}catch(e){c("An error occurred while checking in the asset")}finally{i(!1)}};return r?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-gray-900/5 rounded-lg shadow-xl max-w-md w-full",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-brand-primary-text",children:"Check In Asset"}),(0,a.jsx)("button",{onClick:s,className:"text-white/50 hover:text-white/80 transition-colors hover transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("form",{onSubmit:u,className:"px-6 py-4",children:[l&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsx)("p",{className:"text-sm text-red-800",children:l})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"bg-gray-900/5 rounded-md p-3",children:[(0,a.jsx)("h3",{className:"font-medium text-brand-primary-text",children:t.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-300",children:[t.manufacturer," ",t.model]}),t.serialNumber&&(0,a.jsx)("p",{className:"text-xs text-gray-600 dark:text-brand-secondary-text font-mono",children:t.serialNumber})]})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Return Notes (Optional)"}),(0,a.jsx)("textarea",{value:x,onChange:e=>m(e.target.value),rows:3,placeholder:"Condition notes, issues found, etc...",className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:d,className:"flex-1 bg-emerald-600 hover text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 transition-colors",children:d?"Checking In...":"Check In"})]})]})]})}):null}function m(e){let{assetId:t,onSuccess:r,onCancel:s}=e,[n,d]=(0,o.useState)({type:"INSPECTION",description:"",scheduledDate:"",estimatedCost:"",priority:"MEDIUM",notes:""}),[i,l]=(0,o.useState)(!1),[c,x]=(0,o.useState)(""),m=e=>{let{name:t,value:r}=e.target;d(e=>({...e,[t]:r}))},u=async e=>{e.preventDefault(),l(!0),x("");try{let e=await fetch("/api/maintenance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,assetId:t,estimatedCost:n.estimatedCost?parseFloat(n.estimatedCost):null,scheduledDate:n.scheduledDate?new Date(n.scheduledDate).toISOString():null})});if(e.ok)r();else{let t=await e.json();x(t.error||"Failed to schedule maintenance")}}catch(e){x("An error occurred while scheduling maintenance")}finally{l(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"bg-gray-900/5 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-brand-primary-text",children:"Schedule Maintenance"}),(0,a.jsx)("button",{onClick:s,className:"text-white/50 hover:text-white/80 transition-colors hover transition-colors",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsx)("p",{className:"text-sm text-red-800",children:c})}),(0,a.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-300 mb-1",children:"Maintenance Type"}),(0,a.jsxs)("select",{id:"type",name:"type",value:n.type,onChange:m,required:!0,className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"INSPECTION",children:"Inspection"}),(0,a.jsx)("option",{value:"REPAIR",children:"Repair"}),(0,a.jsx)("option",{value:"CLEANING",children:"Cleaning"}),(0,a.jsx)("option",{value:"CALIBRATION",children:"Calibration"}),(0,a.jsx)("option",{value:"REPLACEMENT",children:"Replacement"}),(0,a.jsx)("option",{value:"UPGRADE",children:"Upgrade"}),(0,a.jsx)("option",{value:"OTHER",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-300 mb-1",children:"Priority"}),(0,a.jsxs)("select",{id:"priority",name:"priority",value:n.priority,onChange:m,required:!0,className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"LOW",children:"Low"}),(0,a.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,a.jsx)("option",{value:"HIGH",children:"High"}),(0,a.jsx)("option",{value:"CRITICAL",children:"Critical"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:["Description ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"description",name:"description",value:n.description,onChange:m,required:!0,placeholder:"Brief description of maintenance needed",className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"scheduledDate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Scheduled Date"}),(0,a.jsx)("input",{type:"datetime-local",id:"scheduledDate",name:"scheduledDate",value:n.scheduledDate,onChange:m,className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"estimatedCost",className:"block text-sm font-medium text-gray-300 mb-1",children:"Estimated Cost"}),(0,a.jsx)("input",{type:"number",id:"estimatedCost",name:"estimatedCost",value:n.estimatedCost,onChange:m,min:"0",step:"0.01",placeholder:"0.00",className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes"}),(0,a.jsx)("textarea",{id:"notes",name:"notes",value:n.notes,onChange:m,rows:3,placeholder:"Additional notes or details",className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:i,className:"bg-blue-600 hover text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 transition-colors",children:i?"Scheduling...":"Schedule Maintenance"})]})]})]})})})}var u=r(61287),h=r(16862);function b(e){let{data:t,assetName:r,isOpen:s,onClose:n}=e,d=(0,o.useRef)(null),[i,l]=(0,o.useState)(""),[c,x]=(0,o.useState)("");(0,o.useEffect)(()=>{s&&t&&d.current&&m()},[s,t]);let m=async()=>{try{if(x(""),!d.current)return;await h.toCanvas(d.current,t,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});let e=await h.toDataURL(t,{width:512,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});l(e)}catch(e){console.error("Error generating QR code:",e),x("Failed to generate QR code")}};return s?(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"bg-gray-900/5 rounded-lg shadow-xl max-w-md w-full",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-brand-primary-text",children:["QR Code ",r&&"- ".concat(r)]}),(0,a.jsx)("button",{onClick:n,className:"text-white/50 hover:text-white/80 transition-colors hover transition-colors",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c?(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsx)("p",{className:"text-sm text-red-800",children:c})}):(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"inline-block p-4 bg-gray-900 rounded-lg border border-gray-600 mb-4",children:(0,a.jsx)("canvas",{ref:d,className:"block",style:{imageRendering:"pixelated"}})}),(0,a.jsxs)("div",{className:"text-sm text-brand-primary-text mb-4",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"Asset ID:"}),(0,a.jsx)("p",{className:"font-mono text-xs break-all bg-gray-900/5 p-2 rounded",children:t})]}),(0,a.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>{if(!i)return;let e=document.createElement("a");e.download="".concat(r?"".concat(r,"-"):"","qr-code.png"),e.href=i,document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"inline-flex items-center px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V4a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download"]}),(0,a.jsxs)("button",{onClick:()=>{if(!i)return;let e=window.open("","_blank");e&&(e.document.write("\n      <html>\n        <head>\n          <title>QR Code - ".concat(r||"Asset",'</title>\n          <style>\n            body {\n              font-family: Arial, sans-serif;\n              text-align: center;\n              padding: 20px;\n              margin: 0;\n            }\n            .qr-container {\n              display: inline-block;\n              padding: 20px;\n              border: 2px solid #333;\n              border-radius: 8px;\n              margin: 20px;\n            }\n            .qr-code {\n              display: block;\n              margin: 0 auto 10px;\n            }\n            .asset-info {\n              font-size: 14px;\n              color: #333;\n              margin: 10px 0;\n            }\n            .asset-id {\n              font-family: monospace;\n              font-size: 12px;\n              color: #666;\n              word-break: break-all;\n            }\n            @media print {\n              body { print-color-adjust: exact; }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="qr-container">\n            <img src="').concat(i,'" alt="QR Code" class="qr-code" style="width: 200px; height: 200px;" />\n            ').concat(r?'<div class="asset-info"><strong>'.concat(r,"</strong></div>"):"",'\n            <div class="asset-id">').concat(t,"</div>\n          </div>\n        </body>\n      </html>\n    ")),e.document.close(),e.print())},className:"inline-flex items-center px-4 py-2 bg-blue-600 hover text-white rounded-md text-sm font-medium transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print"]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:n,className:"px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 transition-colors",children:"Close"})})]})})}):null}function p(e){let{tabs:t,activeTab:r,onTabChange:s,variant:n="default",size:o="md",className:d=""}=e;return(0,a.jsx)("div",{className:"".concat("flex transition-all duration-200 overflow-x-auto"," ").concat({default:"border-b border-gray-700",pills:"bg-gray-900/5 p-1 rounded-xl",underline:"space-x-1",cards:"bg-gray-900/5 border border-gray-700 rounded-lg p-1"}[n]," ").concat({sm:"text-sm",md:"text-sm",lg:"text-base"}[o]," ").concat(d),children:t.map(e=>{let t=r===e.id;return(0,a.jsxs)("button",{onClick:()=>!e.disabled&&s(e.id),className:((e,t)=>{let r=e.disabled;return"pills"===n?"\n        flex items-center px-4 py-2.5 font-medium rounded-lg transition-all duration-200 \n        ".concat(t?"bg-gray-900 text-brand-primary-text shadow-sm":"text-brand-primary-text hover:bg-gray-100 dark:hover:bg-gray-100 dark:bg-gray-800","\n        ").concat(r?"opacity-50 cursor-not-allowed":"cursor-pointer","\n        ").concat("sm"===o?"px-3 py-2 text-xs":"lg"===o?"px-5 py-3 text-base":"","\n      ").trim():"cards"===n?"\n        flex items-center px-4 py-2.5 font-medium rounded-md transition-all duration-200\n        ".concat(t?"bg-blue-50 text-blue-700 border border-blue-200":"text-brand-primary-text hover:bg-gray-100 dark:hover:bg-gray-100 dark:bg-gray-800","\n        ").concat(r?"opacity-50 cursor-not-allowed":"cursor-pointer","\n        ").concat("sm"===o?"px-3 py-2 text-xs":"lg"===o?"px-5 py-3 text-base":"","\n      ").trim():"underline"===n?"\n        flex items-center px-1 py-3 font-medium border-b-2 transition-all duration-200\n        ".concat(t?"border-blue-500 text-blue-600":"border-transparent text-gray-600 dark:text-brand-secondary-text hover:bg-gray-100 dark:hover:bg-gray-100 dark:bg-gray-800:border-gray-600:border-gray-600","\n        ").concat(r?"opacity-50 cursor-not-allowed":"cursor-pointer","\n        ").concat("sm"===o?"py-2 text-xs":"lg"===o?"py-4 text-base":"","\n      ").trim():"\n      flex items-center px-6 py-3 font-semibold border-b-3 transition-all duration-200 relative\n      ".concat(t?"border-blue-500 text-blue-600 bg-blue-50/50":"border-transparent text-brand-primary-text hover:bg-gray-100 dark:hover:bg-gray-100 dark:bg-gray-800:border-gray-600:border-gray-600 hover","\n      ").concat(r?"opacity-50 cursor-not-allowed":"cursor-pointer","\n      ").concat("sm"===o?"px-4 py-2 text-xs":"lg"===o?"px-8 py-4 text-base":"","\n    ").trim()})(e,t),disabled:e.disabled,type:"button",children:[e.icon&&(0,a.jsx)("span",{className:"mr-2 flex-shrink-0",children:e.icon}),(0,a.jsx)("span",{className:"whitespace-nowrap",children:e.label}),void 0!==e.count&&(0,a.jsx)("span",{className:"\n                ml-2 px-2 py-0.5 text-xs font-medium rounded-full\n                ".concat(t?"bg-blue-100 text-blue-700":"bg-gray-200 text-brand-primary-text","\n              "),children:e.count}),"default"===n&&t&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500 rounded-full"})]},e.id)})})}function g(e){let{children:t,className:r=""}=e;return(0,a.jsx)("div",{className:"mt-6 ".concat(r),children:t})}function y(e){let{children:t,className:r="",variant:s="card"}=e;return(0,a.jsx)("div",{className:"".concat({default:"",card:"bg-gray-900/5 rounded-xl border border-gray-700 p-6 shadow-sm"}[s]," ").concat(r),children:t})}function f(e){var t,r,d,h,f;let{params:j}=e,{data:N,status:v}=(0,s.useSession)(),k=(0,n.useRouter)(),w=(0,o.use)(j),[C,S]=(0,o.useState)(null),[L,A]=(0,o.useState)(!0),[D,E]=(0,o.useState)(!1),[I,M]=(0,o.useState)(!1),[R,O]=(0,o.useState)(""),[T,F]=(0,o.useState)([]),[P,B]=(0,o.useState)(!1),[U,H]=(0,o.useState)(!1),[V,_]=(0,o.useState)(!1),[z,W]=(0,o.useState)(!1),[q,G]=(0,o.useState)("details"),[Q,J]=(0,o.useState)({name:"",description:"",category:"OTHER",assetNumber:"",serialNumber:"",barcode:"",qrCode:"",status:"AVAILABLE",location:"",purchaseDate:"",purchasePrice:"",currentValue:"",condition:"GOOD",manufacturer:"",model:"",notes:"",imageUrl:""}),K=async()=>{try{let e=await fetch("/api/categories");if(e.ok){let t=await e.json();F(t.categories||[])}}catch(e){console.error("Error fetching categories:",e)}};(0,o.useEffect)(()=>{if("loading"!==v){if("unauthenticated"===v)return void k.push("/auth/signin");$(),K()}},[v,k,w.id]);let $=async()=>{try{let r=await fetch("/api/assets/".concat(w.id));if(r.ok){var e,t;let a=await r.json();S(a),J({name:a.name||"",description:a.description||"",category:a.category,assetNumber:a.assetNumber||"",serialNumber:a.serialNumber||"",barcode:a.barcode||"",qrCode:a.qrCode||"",status:a.status,location:a.location||"",purchaseDate:a.purchaseDate?a.purchaseDate.split("T")[0]:"",purchasePrice:(null==(e=a.purchasePrice)?void 0:e.toString())||"",currentValue:(null==(t=a.currentValue)?void 0:t.toString())||"",condition:a.condition,manufacturer:a.manufacturer||"",model:a.model||"",notes:a.notes||"",imageUrl:a.imageUrl||""})}else 404===r.status&&k.push("/assets")}catch(e){console.error("Failed to fetch asset:",e),O("Failed to load asset")}finally{A(!1)}},X=async()=>{M(!0),O("");try{let e=await fetch("/api/assets/".concat(w.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)});if(e.ok){let t=await e.json();S(e=>e?{...e,...t}:null),E(!1),$()}else{let t=await e.json();O(t.error||"Failed to update asset")}}catch(e){O("An error occurred while updating the asset")}finally{M(!1)}},Y=e=>{let{name:t,value:r}=e.target;J(e=>({...e,[t]:r}))},Z=async(e,t)=>{try{(await fetch("/api/maintenance/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})})).ok?$():console.error("Failed to update maintenance status")}catch(e){console.error("Error updating maintenance status:",e)}},ee=[{id:"details",label:"Details",icon:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"transactions",label:"Transactions",count:(null==C||null==(t=C.transactions)?void 0:t.length)||0,icon:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})},{id:"maintenance",label:"Maintenance",count:(null==C||null==(r=C.maintenanceRecords)?void 0:r.length)||0,icon:(0,a.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"history",label:"History",icon:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}];return"loading"===v||L?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50/30 via-slate-50 to-indigo-50/20 dark:from-brand-dark-blue dark:via-gray-925 dark:to-brand-black",children:[(0,a.jsx)(l.A,{}),(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-orange"})})]}):N&&C?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50/30 via-slate-50 to-indigo-50/20 dark:from-brand-dark-blue dark:via-gray-925 dark:to-brand-black",children:[(0,a.jsx)(l.A,{}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i(),{href:"/assets",className:"text-gray-600 dark:text-brand-secondary-text hover transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[D?(0,a.jsx)("input",{type:"text",name:"name",value:Q.name,onChange:Y,className:"text-3xl font-bold bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1 text-brand-primary-text w-full",placeholder:"Asset name"}):(0,a.jsx)("h1",{className:"text-3xl font-bold text-brand-primary-text",children:C.name}),(0,a.jsxs)("p",{className:"text-brand-primary-text",children:[C.manufacturer," ",C.model]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{className:"px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 transition-colors",children:"Print"}),D?(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{E(!1),O(""),$()},className:"px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:X,disabled:I,className:"bg-blue-600 hover text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 transition-colors",children:I?"Saving...":"Save Changes"})]}):(0,a.jsx)("button",{onClick:()=>E(!0),className:"bg-blue-600 hover text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Edit Asset"})]})]}),R&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm text-red-800",children:R})})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-gray-900/5 rounded-lg border border-gray-700 overflow-hidden",children:[C.imageUrl?(0,a.jsx)("img",{src:C.imageUrl,alt:C.name,className:"w-full h-64 object-cover"}):(0,a.jsx)("div",{className:"w-full h-64 bg-gray-900/5 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-12 h-12 text-white/50 hover:text-white/80 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:["AVAILABLE"===C.status?(0,a.jsx)("button",{onClick:()=>B(!0),className:"w-full bg-blue-600 hover text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Check Out Asset"}):"CHECKED_OUT"===C.status?(0,a.jsx)("button",{onClick:()=>H(!0),className:"w-full bg-emerald-600 hover text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Check In Asset"}):(0,a.jsx)("button",{disabled:!0,className:"w-full bg-gray-400 text-white px-4 py-2 rounded-md text-sm font-medium cursor-not-allowed",children:"Asset Not Available"}),(0,a.jsx)("button",{onClick:()=>W(!0),className:"w-full border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 px-4 py-2 transition-colors",children:"Generate QR Code"})]})]})}),(0,a.jsx)("div",{className:"lg:col-span-3",children:(0,a.jsxs)("div",{className:"bg-gray-900/5 rounded-lg border border-gray-700 p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-600 dark:text-brand-secondary-text uppercase tracking-wider",children:"Asset Details"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Category"}),D?(0,a.jsx)("select",{name:"category",value:Q.category,onChange:Y,className:"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:T.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))}):(0,a.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text capitalize",children:(()=>{let e=T.find(e=>e.id===C.category);return e?"".concat(e.icon," ").concat(e.name):C.category.toLowerCase().replace("_"," ")})()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Client"}),(0,a.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:(null==(d=C.client)?void 0:d.name)||(0,a.jsx)("span",{className:"text-white/50 hover:text-white/80 transition-colors",children:"No Client"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Status"}),D?(0,a.jsxs)("select",{name:"status",value:Q.status,onChange:Y,className:"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"AVAILABLE",children:"Available"}),(0,a.jsx)("option",{value:"CHECKED_OUT",children:"Checked Out"}),(0,a.jsx)("option",{value:"IN_MAINTENANCE",children:"In Maintenance"}),(0,a.jsx)("option",{value:"RETIRED",children:"Retired"}),(0,a.jsx)("option",{value:"MISSING",children:"Missing"}),(0,a.jsx)("option",{value:"RESERVED",children:"Reserved"})]}):(0,a.jsx)("dd",{children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium ".concat({AVAILABLE:"bg-emerald-100 text-emerald-800",CHECKED_OUT:"bg-amber-100 text-amber-800",IN_MAINTENANCE:"bg-red-100 text-red-800",RETIRED:"bg-gray-100 dark:bg-gray-800 text-brand-primary-text",MISSING:"bg-red-100 text-red-800",RESERVED:"bg-blue-100 text-blue-800"}[C.status]),children:C.status.replace("_"," ")})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Condition"}),D?(0,a.jsxs)("select",{name:"condition",value:Q.condition,onChange:Y,className:"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"EXCELLENT",children:"Excellent"}),(0,a.jsx)("option",{value:"GOOD",children:"Good"}),(0,a.jsx)("option",{value:"FAIR",children:"Fair"}),(0,a.jsx)("option",{value:"POOR",children:"Poor"}),(0,a.jsx)("option",{value:"NEEDS_REPAIR",children:"Needs Repair"})]}):(0,a.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:C.condition})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Location"}),D?(0,a.jsx)("input",{type:"text",name:"location",value:Q.location,onChange:Y,className:"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Building, Room, Shelf..."}):(0,a.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:C.location||"-"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-600 dark:text-brand-secondary-text uppercase tracking-wider",children:"Technical Info"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Manufacturer"}),D?(0,a.jsx)("input",{type:"text",name:"manufacturer",value:Q.manufacturer,onChange:Y,className:"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,a.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:C.manufacturer||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Model"}),D?(0,a.jsx)("input",{type:"text",name:"model",value:Q.model,onChange:Y,className:"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,a.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:C.model||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Serial Number"}),D?(0,a.jsx)("input",{type:"text",name:"serialNumber",value:Q.serialNumber,onChange:Y,className:"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono"}):(0,a.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text font-mono",children:C.serialNumber||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Barcode"}),D?(0,a.jsx)("input",{type:"text",name:"barcode",value:Q.barcode,onChange:Y,className:"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono"}):(0,a.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text font-mono",children:C.barcode||"-"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-600 dark:text-brand-secondary-text uppercase tracking-wider",children:"Financial"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Purchase Date"}),D?(0,a.jsx)("input",{type:"date",name:"purchaseDate",value:Q.purchaseDate,onChange:Y,className:"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,a.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:C.purchaseDate?new Date(C.purchaseDate).toLocaleDateString():"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Purchase Price"}),D?(0,a.jsx)("input",{type:"number",name:"purchasePrice",value:Q.purchasePrice,onChange:Y,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"}):(0,a.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:C.purchasePrice?"$".concat(C.purchasePrice.toLocaleString()):"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Current Value"}),D?(0,a.jsx)("input",{type:"number",name:"currentValue",value:Q.currentValue,onChange:Y,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"}):(0,a.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:C.currentValue?"$".concat(C.currentValue.toLocaleString()):"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Asset ID"}),D?(0,a.jsx)("input",{type:"text",name:"assetNumber",value:Q.assetNumber||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Asset number/ID"}):(0,a.jsx)("dd",{className:"text-sm font-mono text-brand-primary-text",children:C.assetNumber||C.id})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-700 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-600 dark:text-brand-secondary-text mb-2",children:"Description"}),D?(0,a.jsx)("textarea",{name:"description",value:Q.description,onChange:Y,rows:3,className:"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Asset description..."}):(0,a.jsx)("dd",{className:"text-brand-primary-text",children:C.description||"No description provided"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-600 dark:text-brand-secondary-text mb-2",children:"Notes"}),D?(0,a.jsx)("textarea",{name:"notes",value:Q.notes,onChange:Y,rows:4,className:"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes, maintenance history, special instructions..."}):(0,a.jsx)("dd",{className:"text-brand-primary-text whitespace-pre-wrap",children:C.notes||"No notes available"})]})]})]})})]}),(0,a.jsx)(p,{tabs:ee,activeTab:q,onTabChange:G,variant:"default",size:"md",className:"mb-6"}),(0,a.jsx)(g,{children:(0,a.jsxs)(y,{children:["details"===q&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-brand-primary-text",children:"Additional Asset Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-600 dark:text-brand-secondary-text",children:"Created"}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-brand-primary-text",children:[new Date(C.createdAt).toLocaleDateString()," by ",(null==(h=C.createdBy)?void 0:h.name)||"System"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-600 dark:text-brand-secondary-text",children:"Last Modified"}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-brand-primary-text",children:[new Date(C.updatedAt).toLocaleDateString()," by ",(null==(f=C.lastModifiedBy)?void 0:f.name)||"System"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-600 dark:text-brand-secondary-text",children:"QR Code"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-brand-primary-text font-mono",children:C.qrCode||"Not generated"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-600 dark:text-brand-secondary-text",children:"Image URL"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-brand-primary-text break-all",children:C.imageUrl?(0,a.jsx)("a",{href:C.imageUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:C.imageUrl}):"No image"})]})]})]}),"transactions"===q&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-brand-primary-text",children:"Transaction History"}),C.transactions.length>0?(0,a.jsx)("div",{className:"space-y-4",children:C.transactions.map(e=>(0,a.jsx)("div",{className:"border border-gray-700 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-brand-primary-text",children:e.type.replace("_"," ")}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:["By ",e.user.name," on ",new Date(e.createdAt).toLocaleDateString()]}),e.notes&&(0,a.jsx)("p",{className:"text-sm text-gray-300 mt-2",children:e.notes})]}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("ACTIVE"===e.status?"bg-amber-100 text-amber-800":"COMPLETED"===e.status?"bg-green-100 text-green-800":"bg-gray-100 dark:bg-gray-800 text-brand-primary-text"),children:e.status})]})},e.id))}):(0,a.jsx)("p",{className:"text-gray-600 dark:text-brand-secondary-text",children:"No transactions recorded"})]}),"maintenance"===q&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-brand-primary-text",children:"Maintenance Records"}),(0,a.jsxs)("button",{onClick:()=>_(!0),className:"bg-blue-600 hover text-white px-4 py-2 rounded-md text-sm font-medium inline-flex items-center transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Schedule Maintenance"]})]}),(0,a.jsx)(u.A,{maintenanceRecords:C.maintenanceRecords,onStatusUpdate:Z,showAssetColumn:!1})]}),"history"===q&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-brand-primary-text",children:"Change History"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-brand-secondary-text",children:"Audit trail will be available soon"})]})]})})]})}),(0,a.jsx)(c,{asset:C,isOpen:P,onClose:()=>B(!1),onSuccess:()=>{$()}}),(0,a.jsx)(x,{asset:C,isOpen:U,onClose:()=>H(!1),onSuccess:()=>{$()}}),V&&(0,a.jsx)(m,{assetId:C.id,onSuccess:()=>{_(!1),$()},onCancel:()=>_(!1)}),(0,a.jsx)(b,{data:C.id,assetName:C.name,isOpen:z,onClose:()=>W(!1)})]}):null}}},e=>{e.O(0,[2108,7244,280,6862,8947,1287,8441,5964,7358],()=>e(e.s=19355)),_N_E=e.O()}]);