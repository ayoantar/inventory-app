(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5268],{19355:(e,t,a)=>{Promise.resolve().then(a.bind(a,46567))},46567:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var r=a(95155),s=a(12108),n=a(35695),o=a(12115),l=a(6874),i=a.n(l),d=a(48947);function c(e){let{asset:t,isOpen:a,onClose:s,onSuccess:n}=e,[l,i]=(0,o.useState)(!1),[d,c]=(0,o.useState)(""),[m,x]=(0,o.useState)({notes:"",dueDate:"",assignedTo:""}),u=async e=>{e.preventDefault(),i(!0),c("");try{let e=await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assetId:t.id,type:"CHECK_OUT",...m})});if(e.ok)n(),s(),x({notes:"",dueDate:"",assignedTo:""});else{let t=await e.json();c(t.error||"Failed to check out asset")}}catch(e){c("An error occurred while checking out the asset")}finally{i(!1)}},b=e=>{let{name:t,value:a}=e.target;x(e=>({...e,[t]:a}))};return a?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900/5 rounded-lg shadow-xl max-w-md w-full",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-brand-primary-text",children:"Check Out Asset"}),(0,r.jsx)("button",{onClick:s,className:"text-white/50 hover:text-white/80 transition-colors hover transition-colors",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,r.jsxs)("form",{onSubmit:u,className:"px-6 py-4",children:[d&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,r.jsx)("p",{className:"text-sm text-red-800",children:d})}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("div",{className:"bg-gray-900/5 rounded-md p-3",children:[(0,r.jsx)("h3",{className:"font-medium text-brand-primary-text",children:t.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:[t.manufacturer," ",t.model]}),t.serialNumber&&(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-brand-secondary-text font-mono",children:t.serialNumber})]})}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Assigned To"}),(0,r.jsx)("input",{type:"text",name:"assignedTo",value:m.assignedTo,onChange:b,placeholder:"Person or department name",className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Due Date (Optional)"}),(0,r.jsx)("input",{type:"date",name:"dueDate",value:m.dueDate,onChange:b,className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes (Optional)"}),(0,r.jsx)("textarea",{name:"notes",value:m.notes,onChange:b,rows:3,placeholder:"Any additional notes about this checkout...",className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:l,className:"flex-1 bg-slate-600 hover text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 transition-colors",children:l?"Checking Out...":"Check Out"})]})]})]})}):null}function m(e){let{asset:t,isOpen:a,onClose:s,onSuccess:n}=e,[l,i]=(0,o.useState)(!1),[d,c]=(0,o.useState)(""),[m,x]=(0,o.useState)(""),u=async e=>{e.preventDefault(),i(!0),c("");try{let e=await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assetId:t.id,type:"CHECK_IN",notes:m})});if(e.ok)n(),s(),x("");else{let t=await e.json();c(t.error||"Failed to check in asset")}}catch(e){c("An error occurred while checking in the asset")}finally{i(!1)}};return a?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900/5 rounded-lg shadow-xl max-w-md w-full",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-brand-primary-text",children:"Check In Asset"}),(0,r.jsx)("button",{onClick:s,className:"text-white/50 hover:text-white/80 transition-colors hover transition-colors",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,r.jsxs)("form",{onSubmit:u,className:"px-6 py-4",children:[d&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,r.jsx)("p",{className:"text-sm text-red-800",children:d})}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("div",{className:"bg-gray-900/5 rounded-md p-3",children:[(0,r.jsx)("h3",{className:"font-medium text-brand-primary-text",children:t.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:[t.manufacturer," ",t.model]}),t.serialNumber&&(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-brand-secondary-text font-mono",children:t.serialNumber})]})}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Return Notes (Optional)"}),(0,r.jsx)("textarea",{value:m,onChange:e=>x(e.target.value),rows:3,placeholder:"Condition notes, issues found, etc...",className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:l,className:"flex-1 bg-emerald-600 hover text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 transition-colors",children:l?"Checking In...":"Check In"})]})]})]})}):null}function x(e){let{assetId:t,onSuccess:a,onCancel:s}=e,[n,l]=(0,o.useState)({type:"INSPECTION",description:"",scheduledDate:"",estimatedCost:"",priority:"MEDIUM",notes:""}),[i,d]=(0,o.useState)(!1),[c,m]=(0,o.useState)(""),x=e=>{let{name:t,value:a}=e.target;l(e=>({...e,[t]:a}))},u=async e=>{e.preventDefault(),d(!0),m("");try{let e=await fetch("/api/maintenance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,assetId:t,estimatedCost:n.estimatedCost?parseFloat(n.estimatedCost):null,scheduledDate:n.scheduledDate?new Date(n.scheduledDate).toISOString():null})});if(e.ok)a();else{let t=await e.json();m(t.error||"Failed to schedule maintenance")}}catch(e){m("An error occurred while scheduling maintenance")}finally{d(!1)}};return(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:(0,r.jsx)("div",{className:"bg-gray-900/5 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-brand-primary-text",children:"Schedule Maintenance"}),(0,r.jsx)("button",{onClick:s,className:"text-white/50 hover:text-white/80 transition-colors hover transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,r.jsx)("p",{className:"text-sm text-red-800",children:c})}),(0,r.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-300 mb-1",children:"Maintenance Type"}),(0,r.jsxs)("select",{id:"type",name:"type",value:n.type,onChange:x,required:!0,className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"INSPECTION",children:"Inspection"}),(0,r.jsx)("option",{value:"REPAIR",children:"Repair"}),(0,r.jsx)("option",{value:"CLEANING",children:"Cleaning"}),(0,r.jsx)("option",{value:"CALIBRATION",children:"Calibration"}),(0,r.jsx)("option",{value:"REPLACEMENT",children:"Replacement"}),(0,r.jsx)("option",{value:"UPGRADE",children:"Upgrade"}),(0,r.jsx)("option",{value:"OTHER",children:"Other"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-300 mb-1",children:"Priority"}),(0,r.jsxs)("select",{id:"priority",name:"priority",value:n.priority,onChange:x,required:!0,className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"LOW",children:"Low"}),(0,r.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,r.jsx)("option",{value:"HIGH",children:"High"}),(0,r.jsx)("option",{value:"CRITICAL",children:"Critical"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:["Description ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"description",name:"description",value:n.description,onChange:x,required:!0,placeholder:"Brief description of maintenance needed",className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"scheduledDate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Scheduled Date"}),(0,r.jsx)("input",{type:"datetime-local",id:"scheduledDate",name:"scheduledDate",value:n.scheduledDate,onChange:x,className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"estimatedCost",className:"block text-sm font-medium text-gray-300 mb-1",children:"Estimated Cost"}),(0,r.jsx)("input",{type:"number",id:"estimatedCost",name:"estimatedCost",value:n.estimatedCost,onChange:x,min:"0",step:"0.01",placeholder:"0.00",className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes"}),(0,r.jsx)("textarea",{id:"notes",name:"notes",value:n.notes,onChange:x,rows:3,placeholder:"Additional notes or details",className:"w-full border border-gray-600 rounded-md px-3 py-2 bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:i,className:"bg-blue-600 hover text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 transition-colors",children:i?"Scheduling...":"Schedule Maintenance"})]})]})]})})})}var u=a(61287),b=a(16862);function h(e){let{data:t,assetName:a,isOpen:s,onClose:n}=e,l=(0,o.useRef)(null),[i,d]=(0,o.useState)(""),[c,m]=(0,o.useState)("");(0,o.useEffect)(()=>{s&&t&&l.current&&x()},[s,t]);let x=async()=>{try{if(m(""),!l.current)return;await b.toCanvas(l.current,t,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});let e=await b.toDataURL(t,{width:512,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});d(e)}catch(e){console.error("Error generating QR code:",e),m("Failed to generate QR code")}};return s?(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:(0,r.jsx)("div",{className:"bg-gray-900/5 rounded-lg shadow-xl max-w-md w-full",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-brand-primary-text",children:["QR Code ",a&&"- ".concat(a)]}),(0,r.jsx)("button",{onClick:n,className:"text-white/50 hover:text-white/80 transition-colors hover transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c?(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,r.jsx)("p",{className:"text-sm text-red-800",children:c})}):(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("div",{className:"inline-block p-4 bg-gray-900 rounded-lg border border-gray-600 mb-4",children:(0,r.jsx)("canvas",{ref:l,className:"block",style:{imageRendering:"pixelated"}})}),(0,r.jsxs)("div",{className:"text-sm text-brand-primary-text mb-4",children:[(0,r.jsx)("p",{className:"font-medium mb-1",children:"Asset ID:"}),(0,r.jsx)("p",{className:"font-mono text-xs break-all bg-gray-900/5 p-2 rounded",children:t})]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,r.jsxs)("button",{onClick:()=>{if(!i)return;let e=document.createElement("a");e.download="".concat(a?"".concat(a,"-"):"","qr-code.png"),e.href=i,document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"inline-flex items-center px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V4a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download"]}),(0,r.jsxs)("button",{onClick:()=>{if(!i)return;let e=window.open("","_blank");e&&(e.document.write("\n      <html>\n        <head>\n          <title>QR Code - ".concat(a||"Asset",'</title>\n          <style>\n            body {\n              font-family: Arial, sans-serif;\n              text-align: center;\n              padding: 20px;\n              margin: 0;\n            }\n            .qr-container {\n              display: inline-block;\n              padding: 20px;\n              border: 2px solid #333;\n              border-radius: 8px;\n              margin: 20px;\n            }\n            .qr-code {\n              display: block;\n              margin: 0 auto 10px;\n            }\n            .asset-info {\n              font-size: 14px;\n              color: #333;\n              margin: 10px 0;\n            }\n            .asset-id {\n              font-family: monospace;\n              font-size: 12px;\n              color: #666;\n              word-break: break-all;\n            }\n            @media print {\n              body { print-color-adjust: exact; }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="qr-container">\n            <img src="').concat(i,'" alt="QR Code" class="qr-code" style="width: 200px; height: 200px;" />\n            ').concat(a?'<div class="asset-info"><strong>'.concat(a,"</strong></div>"):"",'\n            <div class="asset-id">').concat(t,"</div>\n          </div>\n        </body>\n      </html>\n    ")),e.document.close(),e.print())},className:"inline-flex items-center px-4 py-2 bg-blue-600 hover text-white rounded-md text-sm font-medium transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print"]})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{onClick:n,className:"px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 transition-colors",children:"Close"})})]})})}):null}function p(e){let{tabs:t,activeTab:a,onTabChange:s,variant:n="default",size:o="md",className:l=""}=e;return(0,r.jsx)("div",{className:"".concat("flex transition-all duration-200 overflow-x-auto"," ").concat({default:"border-b border-gray-700",pills:"bg-gray-900/5 p-1 rounded-xl",underline:"space-x-1",cards:"bg-gray-900/5 border border-gray-700 rounded-lg p-1"}[n]," ").concat({sm:"text-sm",md:"text-sm",lg:"text-base"}[o]," ").concat(l),children:t.map(e=>{let t=a===e.id;return(0,r.jsxs)("button",{onClick:()=>!e.disabled&&s(e.id),className:((e,t)=>{let a=e.disabled;return"pills"===n?"\n        flex items-center px-4 py-2.5 font-medium rounded-lg transition-all duration-200\n        ".concat(t?"bg-blue-900/30 text-blue-400 shadow-sm":"text-brand-primary-text hover:bg-gray-800/50","\n        ").concat(a?"opacity-50 cursor-not-allowed":"cursor-pointer","\n        ").concat("sm"===o?"px-3 py-2 text-xs":"lg"===o?"px-5 py-3 text-base":"","\n      ").trim():"cards"===n?"\n        flex items-center px-4 py-2.5 font-medium rounded-md transition-all duration-200\n        ".concat(t?"bg-blue-900/20 text-blue-400 border border-blue-700":"text-brand-primary-text hover:bg-gray-800/50","\n        ").concat(a?"opacity-50 cursor-not-allowed":"cursor-pointer","\n        ").concat("sm"===o?"px-3 py-2 text-xs":"lg"===o?"px-5 py-3 text-base":"","\n      ").trim():"underline"===n?"\n        flex items-center px-1 py-3 font-medium border-b-2 transition-all duration-200\n        ".concat(t?"border-blue-500 text-blue-400":"border-transparent text-brand-secondary-text hover:bg-gray-800/50 hover:border-gray-600","\n        ").concat(a?"opacity-50 cursor-not-allowed":"cursor-pointer","\n        ").concat("sm"===o?"py-2 text-xs":"lg"===o?"py-4 text-base":"","\n      ").trim():"\n      flex items-center px-6 py-3 font-semibold border-b-3 transition-all duration-200 relative\n      ".concat(t?"border-blue-500 text-blue-400 bg-blue-900/20":"border-transparent text-brand-primary-text hover:bg-gray-800/50","\n      ").concat(a?"opacity-50 cursor-not-allowed":"cursor-pointer","\n      ").concat("sm"===o?"px-4 py-2 text-xs":"lg"===o?"px-8 py-4 text-base":"","\n    ").trim()})(e,t),disabled:e.disabled,type:"button",children:[e.icon&&(0,r.jsx)("span",{className:"mr-2 flex-shrink-0",children:e.icon}),(0,r.jsx)("span",{className:"whitespace-nowrap",children:e.label}),void 0!==e.count&&(0,r.jsx)("span",{className:"\n                ml-2 px-2 py-0.5 text-xs font-medium rounded-full\n                ".concat(t?"bg-blue-900/40 text-blue-300":"bg-gray-700 text-gray-300","\n              "),children:e.count}),"default"===n&&t&&(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500 rounded-full"})]},e.id)})})}function g(e){let{children:t,className:a=""}=e;return(0,r.jsx)("div",{className:"mt-6 ".concat(a),children:t})}function y(e){let{children:t,className:a="",variant:s="card"}=e;return(0,r.jsx)("div",{className:"".concat({default:"",card:"bg-gray-900/5 rounded-xl border border-gray-700 p-6 shadow-sm"}[s]," ").concat(a),children:t})}var f=a(59434);function j(e){var t,a,l,b,j,v,N;let{params:w}=e,{data:k,status:C}=(0,s.useSession)(),S=(0,n.useRouter)(),L=(0,o.use)(w),[A,E]=(0,o.useState)(null),[I,D]=(0,o.useState)(!0),[M,F]=(0,o.useState)(!1),[R,O]=(0,o.useState)(!1),[T,P]=(0,o.useState)(""),[_,B]=(0,o.useState)([]),[H,U]=(0,o.useState)(!1),[z,V]=(0,o.useState)(!1),[W,q]=(0,o.useState)(!1),[G,J]=(0,o.useState)(!1),[Q,K]=(0,o.useState)("details"),[$,X]=(0,o.useState)([]),[Y,Z]=(0,o.useState)(!0),[ee,et]=(0,o.useState)(!1),[ea,er]=(0,o.useState)({name:"",building:"",floor:"",room:"",description:""}),[es,en]=(0,o.useState)([]),[eo,el]=(0,o.useState)(!0),[ei,ed]=(0,o.useState)(!1),[ec,em]=(0,o.useState)({name:"",code:"",contactPerson:"",email:"",phone:""}),[ex,eu]=(0,o.useState)({name:"",description:"",categoryId:"OTHER",assetNumber:"",serialNumber:"",barcode:"",qrCode:"",status:"AVAILABLE",location:"",locationId:"",clientId:"",purchaseDate:"",purchasePrice:"",currentValue:"",condition:"GOOD",manufacturer:"",model:"",notes:"",imageUrl:""}),eb=async()=>{try{let e=await fetch("/api/categories");if(e.ok){let t=await e.json();B(t.categories||[])}}catch(e){console.error("Error fetching categories:",e)}},eh=async()=>{try{let e=await fetch("/api/locations?limit=1000");if(e.ok){let t=await e.json();X(t.locations||[])}}catch(e){console.error("Error fetching locations:",e)}finally{Z(!1)}},ep=async()=>{try{let e=await fetch("/api/clients?limit=1000");if(e.ok){let t=await e.json();en(t.clients||[])}}catch(e){console.error("Error fetching clients:",e)}finally{el(!1)}};(0,o.useEffect)(()=>{if("loading"!==C){if("unauthenticated"===C)return void S.push("/auth/signin");eg(),eb(),eh(),ep()}},[C,S,L.id]);let eg=async()=>{try{let r=await fetch("/api/assets/".concat(L.id));if(r.ok){var e,t,a;let s=await r.json();E(s),eu({name:s.name||"",description:s.description||"",categoryId:(null==(e=s.category)?void 0:e.id)||s.categoryId||"OTHER",assetNumber:s.assetNumber||"",serialNumber:s.serialNumber||"",barcode:s.barcode||"",qrCode:s.qrCode||"",status:s.status,location:s.location||"",locationId:s.locationId||"",clientId:s.clientId||"",purchaseDate:s.purchaseDate?s.purchaseDate.split("T")[0]:"",purchasePrice:(null==(t=s.purchasePrice)?void 0:t.toString())||"",currentValue:(null==(a=s.currentValue)?void 0:a.toString())||"",condition:s.condition,manufacturer:s.manufacturer||"",model:s.model||"",notes:s.notes||"",imageUrl:s.imageUrl||""})}else 404===r.status&&S.push("/assets")}catch(e){console.error("Failed to fetch asset:",e),P("Failed to load asset")}finally{D(!1)}},ey=async()=>{O(!0),P("");try{let e=await fetch("/api/assets/".concat(L.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ex)});if(e.ok){let t=await e.json();E(e=>e?{...e,...t}:null),F(!1),eg()}else{let t=await e.json();P(t.error||"Failed to update asset")}}catch(e){P("An error occurred while updating the asset")}finally{O(!1)}},ef=e=>{let{name:t,value:a}=e.target;eu(e=>({...e,[t]:a}))},ej=async()=>{try{if(!ea.name.trim())return void alert("Location name is required");let e=await fetch("/api/locations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ea.name,building:ea.building||void 0,floor:ea.floor||void 0,room:ea.room||void 0,description:ea.description||void 0})});if(!e.ok)throw Error("Failed to create location");let t=await e.json();X(e=>[...e,t]),eu(e=>({...e,locationId:t.id})),et(!1),er({name:"",building:"",floor:"",room:"",description:""})}catch(e){alert("Failed to create location. Please try again.")}},ev=async()=>{try{if(!ec.name.trim())return void alert("Client name is required");let e=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ec.name,code:ec.code||void 0,contactPerson:ec.contactPerson||void 0,email:ec.email||void 0,phone:ec.phone||void 0})});if(!e.ok)throw Error("Failed to create client");let t=await e.json();en(e=>[...e,t]),eu(e=>({...e,clientId:t.id})),ed(!1),em({name:"",code:"",contactPerson:"",email:"",phone:""})}catch(e){alert("Failed to create client. Please try again.")}},eN=async(e,t)=>{try{(await fetch("/api/maintenance/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})})).ok?eg():console.error("Failed to update maintenance status")}catch(e){console.error("Error updating maintenance status:",e)}},ew=[{id:"details",label:"Details",icon:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"transactions",label:"Transactions",count:(null==A||null==(t=A.transactions)?void 0:t.length)||0,icon:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})},{id:"maintenance",label:"Maintenance",count:(null==A||null==(a=A.maintenanceRecords)?void 0:a.length)||0,icon:(0,r.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"history",label:"History",icon:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}];return"loading"===C||I?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50/30 via-slate-50 to-indigo-50/20 dark:from-brand-dark-blue dark:via-gray-925 dark:to-brand-black",children:[(0,r.jsx)(d.A,{}),(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-orange"})})]}):k&&A?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50/30 via-slate-50 to-indigo-50/20 dark:from-brand-dark-blue dark:via-gray-925 dark:to-brand-black",children:[(0,r.jsx)(d.A,{}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,r.jsx)(i(),{href:"/assets",className:"text-gray-600 dark:text-brand-secondary-text hover transition-colors flex-shrink-0",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[M?(0,r.jsx)("input",{type:"text",name:"name",value:ex.name,onChange:ef,className:"text-2xl sm:text-3xl font-bold bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1 text-brand-primary-text w-full",placeholder:"Asset name"}):(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-brand-primary-text truncate",children:A.name}),(0,r.jsxs)("p",{className:"text-sm text-brand-primary-text truncate",children:[A.manufacturer," ",A.model]})]})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,r.jsx)("button",{className:"px-3 sm:px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 transition-colors hidden sm:block",children:"Print"}),M?(0,r.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,r.jsx)("button",{onClick:()=>{F(!1),P(""),eg()},className:"px-3 sm:px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 transition-colors flex-1 sm:flex-none",children:"Cancel"}),(0,r.jsx)("button",{onClick:ey,disabled:R,className:"bg-blue-600 hover text-white px-3 sm:px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 transition-colors flex-1 sm:flex-none",children:R?"Saving...":"Save"})]}):(0,r.jsx)("button",{onClick:()=>F(!0),className:"bg-blue-600 hover text-white px-3 sm:px-4 py-2 rounded-md text-sm font-medium transition-colors flex-1 sm:flex-none",children:"Edit Asset"})]})]}),T&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("p",{className:"text-sm text-red-800",children:T})})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-gray-900/5 rounded-lg border border-gray-700 overflow-hidden",children:[A.imageUrl?(0,r.jsx)("img",{src:A.imageUrl,alt:A.name,className:"w-full h-48 sm:h-64 object-cover"}):(0,r.jsx)("div",{className:"w-full h-48 sm:h-64 bg-gray-900/5 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-12 h-12 text-white/50 hover:text-white/80 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsxs)("div",{className:"p-3 sm:p-4 space-y-2 sm:space-y-3",children:["AVAILABLE"===A.status?(0,r.jsx)("button",{onClick:()=>U(!0),className:"w-full bg-blue-600 hover text-white px-4 py-2.5 rounded-md text-sm font-medium transition-colors active:scale-95 touch-manipulation",children:"Check Out Asset"}):"CHECKED_OUT"===A.status?(0,r.jsx)("button",{onClick:()=>V(!0),className:"w-full bg-emerald-600 hover text-white px-4 py-2.5 rounded-md text-sm font-medium transition-colors active:scale-95 touch-manipulation",children:"Check In Asset"}):(0,r.jsx)("button",{disabled:!0,className:"w-full bg-gray-400 text-white px-4 py-2.5 rounded-md text-sm font-medium cursor-not-allowed",children:"Asset Not Available"}),(0,r.jsx)("button",{onClick:()=>J(!0),className:"w-full border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover bg-gray-900/5 px-4 py-2.5 transition-colors active:scale-95 touch-manipulation",children:"Generate QR Code"})]})]})}),(0,r.jsx)("div",{className:"lg:col-span-3",children:(0,r.jsxs)("div",{className:"bg-gray-900/5 rounded-lg border border-gray-700 p-4 sm:p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-600 dark:text-brand-secondary-text uppercase tracking-wider",children:"Asset Details"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Category"}),M?(0,r.jsx)("select",{name:"categoryId",value:ex.categoryId,onChange:ef,className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:_.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))}):(0,r.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text capitalize",children:(()=>{var e,t;let a=(null==(e=A.category)?void 0:e.id)||A.categoryId,r=_.find(e=>e.id===a);return r?"".concat(r.icon," ").concat(r.name):(null==(t=A.category)?void 0:t.name)||"No Category"})()})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Client"}),M?(0,r.jsxs)("select",{name:"clientId",value:ex.clientId,onChange:e=>{"__new__"===e.target.value?ed(!0):ef(e)},disabled:eo,className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)("option",{value:"",children:eo?"Loading clients...":"Select a client"}),(0,r.jsx)("option",{value:"__new__",className:"text-blue-400 font-medium",children:"+ Add New Client"}),es.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]}):(0,r.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:(null==(l=A.client)?void 0:l.name)||(0,r.jsx)("span",{className:"text-white/50 hover:text-white/80 transition-colors",children:"No Client"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Status"}),M?(0,r.jsxs)("select",{name:"status",value:ex.status,onChange:ef,className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"AVAILABLE",children:"Available"}),(0,r.jsx)("option",{value:"CHECKED_OUT",children:"Checked Out"}),(0,r.jsx)("option",{value:"IN_MAINTENANCE",children:"In Maintenance"}),(0,r.jsx)("option",{value:"RETIRED",children:"Retired"}),(0,r.jsx)("option",{value:"MISSING",children:"Missing"}),(0,r.jsx)("option",{value:"RESERVED",children:"Reserved"})]}):(0,r.jsx)("dd",{children:(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium ".concat({AVAILABLE:"bg-emerald-100 text-emerald-800",CHECKED_OUT:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",IN_MAINTENANCE:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",RETIRED:"bg-gray-100 dark:bg-gray-800 text-brand-primary-text",MISSING:"bg-red-100 text-red-800",RESERVED:"bg-blue-100 text-blue-800"}[A.status]),children:(0,f.me)(A.status)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Condition"}),M?(0,r.jsxs)("select",{name:"condition",value:ex.condition,onChange:ef,className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"EXCELLENT",children:"Excellent"}),(0,r.jsx)("option",{value:"GOOD",children:"Good"}),(0,r.jsx)("option",{value:"FAIR",children:"Fair"}),(0,r.jsx)("option",{value:"POOR",children:"Poor"}),(0,r.jsx)("option",{value:"NEEDS_REPAIR",children:"Needs Repair"})]}):(0,r.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:A.condition})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Location"}),M?(0,r.jsxs)("select",{name:"locationId",value:ex.locationId,onChange:e=>{"__new__"===e.target.value?et(!0):ef(e)},disabled:Y,className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)("option",{value:"",children:Y?"Loading locations...":"Select a location"}),(0,r.jsx)("option",{value:"__new__",className:"text-blue-400 font-medium",children:"+ Add New Location"}),$.map(e=>(0,r.jsx)("option",{value:e.id,children:e.building&&e.floor?"".concat(e.name," (").concat(e.building," - Floor ").concat(e.floor,")"):e.building?"".concat(e.name," (").concat(e.building,")"):e.name},e.id))]}):(0,r.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:(null==(b=A.locationRef)?void 0:b.name)||A.location||(null==(j=$.find(e=>e.id===A.locationId))?void 0:j.name)||"-"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-600 dark:text-brand-secondary-text uppercase tracking-wider",children:"Technical Info"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Manufacturer"}),M?(0,r.jsx)("input",{type:"text",name:"manufacturer",value:ex.manufacturer,onChange:ef,className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,r.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:A.manufacturer||"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Model"}),M?(0,r.jsx)("input",{type:"text",name:"model",value:ex.model,onChange:ef,className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,r.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:A.model||"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Serial Number"}),M?(0,r.jsx)("input",{type:"text",name:"serialNumber",value:ex.serialNumber,onChange:ef,className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono"}):(0,r.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text font-mono",children:A.serialNumber||"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Barcode"}),M?(0,r.jsx)("input",{type:"text",name:"barcode",value:ex.barcode,onChange:ef,className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono"}):(0,r.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text font-mono",children:A.barcode||"-"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-600 dark:text-brand-secondary-text uppercase tracking-wider",children:"Financial"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Purchase Date"}),M?(0,r.jsx)("input",{type:"date",name:"purchaseDate",value:ex.purchaseDate,onChange:ef,className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,r.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:A.purchaseDate?new Date(A.purchaseDate).toLocaleDateString():"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Purchase Price"}),M?(0,r.jsx)("input",{type:"number",name:"purchasePrice",value:ex.purchasePrice,onChange:ef,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"}):(0,r.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:A.purchasePrice?"$".concat(A.purchasePrice.toLocaleString()):"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Current Value"}),M?(0,r.jsx)("input",{type:"number",name:"currentValue",value:ex.currentValue,onChange:ef,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"}):(0,r.jsx)("dd",{className:"text-lg font-medium text-brand-primary-text",children:A.currentValue?"$".concat(A.currentValue.toLocaleString()):"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:"Asset ID"}),M?(0,r.jsx)("input",{type:"text",name:"assetNumber",value:ex.assetNumber||"",onChange:ef,className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Asset number/ID"}):(0,r.jsx)("dd",{className:"text-sm font-mono text-brand-primary-text",children:A.assetNumber||A.id})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-gray-700 space-y-3 sm:space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-600 dark:text-brand-secondary-text mb-2",children:"Description"}),M?(0,r.jsx)("textarea",{name:"description",value:ex.description,onChange:ef,rows:3,className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base",placeholder:"Asset description..."}):(0,r.jsx)("dd",{className:"text-brand-primary-text text-sm sm:text-base",children:A.description||"No description provided"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-600 dark:text-brand-secondary-text mb-2",children:"Notes"}),M?(0,r.jsx)("textarea",{name:"notes",value:ex.notes,onChange:ef,rows:4,className:"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-800 text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base",placeholder:"Additional notes, maintenance history, special instructions..."}):(0,r.jsx)("dd",{className:"text-brand-primary-text whitespace-pre-wrap text-sm sm:text-base",children:A.notes||"No notes available"})]})]})]})})]}),(0,r.jsx)(p,{tabs:ew,activeTab:Q,onTabChange:K,variant:"default",size:"md",className:"mb-4 sm:mb-6"}),(0,r.jsx)(g,{children:(0,r.jsxs)(y,{children:["details"===Q&&(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,r.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-brand-primary-text",children:"Additional Asset Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-600 dark:text-brand-secondary-text",children:"Created"}),(0,r.jsxs)("dd",{className:"mt-1 text-sm text-brand-primary-text",children:[new Date(A.createdAt).toLocaleDateString()," by ",(null==(v=A.createdBy)?void 0:v.name)||"System"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-600 dark:text-brand-secondary-text",children:"Last Modified"}),(0,r.jsxs)("dd",{className:"mt-1 text-sm text-brand-primary-text",children:[new Date(A.updatedAt).toLocaleDateString()," by ",(null==(N=A.lastModifiedBy)?void 0:N.name)||"System"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-600 dark:text-brand-secondary-text",children:"QR Code"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-brand-primary-text font-mono",children:A.qrCode||"Not generated"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-600 dark:text-brand-secondary-text",children:"Image URL"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-brand-primary-text break-all",children:A.imageUrl?(0,r.jsx)("a",{href:A.imageUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:A.imageUrl}):"No image"})]})]})]}),"transactions"===Q&&(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,r.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-brand-primary-text",children:"Transaction History"}),A.transactions.length>0?(0,r.jsx)("div",{className:"space-y-3 sm:space-y-4",children:A.transactions.map(e=>(0,r.jsx)("div",{className:"border border-gray-700 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-brand-primary-text",children:e.type.replace("_"," ")}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-brand-secondary-text",children:["By ",e.user.name," on ",new Date(e.createdAt).toLocaleDateString()]}),e.notes&&(0,r.jsx)("p",{className:"text-sm text-gray-300 mt-2",children:e.notes})]}),(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("ACTIVE"===e.status?"bg-amber-100 text-amber-800":"COMPLETED"===e.status?"bg-green-100 text-green-800":"bg-gray-100 dark:bg-gray-800 text-brand-primary-text"),children:e.status})]})},e.id))}):(0,r.jsx)("p",{className:"text-gray-600 dark:text-brand-secondary-text",children:"No transactions recorded"})]}),"maintenance"===Q&&(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[(0,r.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-brand-primary-text",children:"Maintenance Records"}),(0,r.jsxs)("button",{onClick:()=>q(!0),className:"bg-blue-600 hover text-white px-4 py-2.5 rounded-md text-sm font-medium inline-flex items-center justify-center transition-colors active:scale-95 touch-manipulation",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Schedule Maintenance"]})]}),(0,r.jsx)(u.A,{maintenanceRecords:A.maintenanceRecords,onStatusUpdate:eN,showAssetColumn:!1})]}),"history"===Q&&(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,r.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-brand-primary-text",children:"Change History"}),(0,r.jsx)("p",{className:"text-sm sm:text-base text-gray-600 dark:text-brand-secondary-text",children:"Audit trail will be available soon"})]})]})})]})}),(0,r.jsx)(c,{asset:A,isOpen:H,onClose:()=>U(!1),onSuccess:()=>{eg()}}),(0,r.jsx)(m,{asset:A,isOpen:z,onClose:()=>V(!1),onSuccess:()=>{eg()}}),W&&(0,r.jsx)(x,{assetId:A.id,onSuccess:()=>{q(!1),eg()},onCancel:()=>q(!1)}),(0,r.jsx)(h,{data:A.id,assetName:A.name,isOpen:G,onClose:()=>J(!1)}),ee&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:(0,r.jsx)("div",{className:"bg-gray-900 border border-gray-700 rounded-xl shadow-2xl max-w-md w-full mx-4",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-brand-primary-text",children:"Add New Location"}),(0,r.jsx)("button",{onClick:()=>{et(!1),er({name:"",building:"",floor:"",room:"",description:""})},className:"text-gray-400 hover:text-gray-200 transition-colors p-1 rounded-lg hover:bg-gray-700/50 active:scale-95 touch-manipulation",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-location-name",className:"block text-sm font-medium text-brand-primary-text mb-2",children:"Location Name *"}),(0,r.jsx)("input",{id:"new-location-name",type:"text",value:ea.name,onChange:e=>er(t=>({...t,name:e.target.value})),placeholder:"e.g., Main Storage",className:"w-full px-3 py-2 border border-gray-600 rounded-lg bg-gray-800 text-brand-primary-text placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-location-building",className:"block text-sm font-medium text-brand-primary-text mb-2",children:"Building"}),(0,r.jsx)("input",{id:"new-location-building",type:"text",value:ea.building,onChange:e=>er(t=>({...t,building:e.target.value})),placeholder:"e.g., Building A",className:"w-full px-3 py-2 border border-gray-600 rounded-lg bg-gray-800 text-brand-primary-text placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-location-floor",className:"block text-sm font-medium text-brand-primary-text mb-2",children:"Floor"}),(0,r.jsx)("input",{id:"new-location-floor",type:"text",value:ea.floor,onChange:e=>er(t=>({...t,floor:e.target.value})),placeholder:"e.g., 2",className:"w-full px-3 py-2 border border-gray-600 rounded-lg bg-gray-800 text-brand-primary-text placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-location-room",className:"block text-sm font-medium text-brand-primary-text mb-2",children:"Room"}),(0,r.jsx)("input",{id:"new-location-room",type:"text",value:ea.room,onChange:e=>er(t=>({...t,room:e.target.value})),placeholder:"e.g., Room 201",className:"w-full px-3 py-2 border border-gray-600 rounded-lg bg-gray-800 text-brand-primary-text placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-location-description",className:"block text-sm font-medium text-brand-primary-text mb-2",children:"Description"}),(0,r.jsx)("textarea",{id:"new-location-description",value:ea.description,onChange:e=>er(t=>({...t,description:e.target.value})),placeholder:"Additional details...",rows:2,className:"w-full px-3 py-2 border border-gray-600 rounded-lg bg-gray-800 text-brand-primary-text placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,r.jsx)("button",{onClick:()=>{et(!1),er({name:"",building:"",floor:"",room:"",description:""})},className:"px-4 py-2 border border-gray-600 rounded-lg text-sm font-medium text-gray-300 hover:bg-gray-700/50 transition-colors active:scale-95 touch-manipulation",children:"Cancel"}),(0,r.jsx)("button",{onClick:ej,disabled:!ea.name.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium active:scale-95 touch-manipulation transition-all",children:"Add Location"})]})]})})}),ei&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,r.jsx)("div",{className:"bg-gray-900 border border-gray-700 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-brand-primary-text",children:"Add New Client"}),(0,r.jsx)("button",{onClick:()=>{ed(!1),em({name:"",code:"",contactPerson:"",email:"",phone:""})},className:"text-gray-400 hover:text-gray-300 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-client-name",className:"block text-sm font-medium text-brand-primary-text mb-2",children:"Client Name *"}),(0,r.jsx)("input",{id:"new-client-name",type:"text",value:ec.name,onChange:e=>em(t=>({...t,name:e.target.value})),placeholder:"e.g., Acme Corporation",className:"w-full px-3 py-2 border border-gray-600 rounded-lg bg-gray-800 text-brand-primary-text placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-client-code",className:"block text-sm font-medium text-brand-primary-text mb-2",children:"Client Code"}),(0,r.jsx)("input",{id:"new-client-code",type:"text",value:ec.code,onChange:e=>em(t=>({...t,code:e.target.value})),placeholder:"e.g., ACME",className:"w-full px-3 py-2 border border-gray-600 rounded-lg bg-gray-800 text-brand-primary-text placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-client-contact",className:"block text-sm font-medium text-brand-primary-text mb-2",children:"Contact Person"}),(0,r.jsx)("input",{id:"new-client-contact",type:"text",value:ec.contactPerson,onChange:e=>em(t=>({...t,contactPerson:e.target.value})),placeholder:"Contact person name",className:"w-full px-3 py-2 border border-gray-600 rounded-lg bg-gray-800 text-brand-primary-text placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-client-email",className:"block text-sm font-medium text-brand-primary-text mb-2",children:"Email"}),(0,r.jsx)("input",{id:"new-client-email",type:"email",value:ec.email,onChange:e=>em(t=>({...t,email:e.target.value})),placeholder:"contact@example.com",className:"w-full px-3 py-2 border border-gray-600 rounded-lg bg-gray-800 text-brand-primary-text placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-client-phone",className:"block text-sm font-medium text-brand-primary-text mb-2",children:"Phone"}),(0,r.jsx)("input",{id:"new-client-phone",type:"tel",value:ec.phone,onChange:e=>em(t=>({...t,phone:e.target.value})),placeholder:"(555) 123-4567",className:"w-full px-3 py-2 border border-gray-600 rounded-lg bg-gray-800 text-brand-primary-text placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,r.jsx)("button",{onClick:()=>{ed(!1),em({name:"",code:"",contactPerson:"",email:"",phone:""})},className:"px-4 py-2 border border-gray-600 rounded-lg text-sm font-medium text-gray-300 hover:bg-gray-700/50 transition-colors active:scale-95 touch-manipulation",children:"Cancel"}),(0,r.jsx)("button",{onClick:ev,disabled:!ec.name.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium active:scale-95 touch-manipulation transition-all",children:"Add Client"})]})]})})})]}):null}}},e=>{e.O(0,[2108,7244,280,6862,8947,1287,8441,5964,7358],()=>e(e.s=19355)),_N_E=e.O()}]);