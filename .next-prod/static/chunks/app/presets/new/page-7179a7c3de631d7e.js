(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7340],{46069:(e,r,t)=>{Promise.resolve().then(t.bind(t,98518))},98518:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var a=t(95155),s=t(12108),n=t(35695),o=t(12115),l=t(6874),i=t.n(l),d=t(48947);let c=["Camera Kit","Audio Setup","Lighting Kit","Conference Setup","Video Production","Photography","Live Streaming","Event Setup"],u=["Media Production","IT","Marketing","Events","Education","Operations"],m=()=>"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9));function p(){let{data:e,status:r}=(0,s.useSession)(),t=(0,n.useRouter)(),[l,p]=(0,o.useState)(!1),[x,h]=(0,o.useState)({name:"",description:"",category:"",department:"",isTemplate:!1,priority:0,estimatedDuration:"",notes:""}),[g,b]=(0,o.useState)([{tempId:m(),name:"",quantity:1,isRequired:!0,priority:0,notes:""}]);(0,o.useEffect)(()=>{if("loading"!==r&&"unauthenticated"===r)return void t.push("/auth/signin")},[r,t]);let f=e=>{let{name:r,value:t,type:a}=e.target;h(s=>({...s,[r]:"checkbox"===a?e.target.checked:t}))},y=(e,r,t)=>{let a=[...g];a[e]={...a[e],[r]:t},b(a)},j=async e=>{if(e.preventDefault(),!x.name.trim())return void alert("Please enter a preset name");let r=g.filter(e=>e.name.trim());if(0===r.length)return void alert("Please add at least one item to the preset");let a=r.map(e=>{let{tempId:r,...t}=e;return t});p(!0);try{let e=await fetch("/api/presets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...x,estimatedDuration:x.estimatedDuration?parseInt(x.estimatedDuration):null,items:a})});if(e.ok){let r=await e.json();t.push("/presets/".concat(r.id))}else{let r=await e.json();alert(r.error||"Failed to create preset")}}catch(e){console.error("Failed to create preset:",e),alert("Failed to create preset")}finally{p(!1)}};return"loading"===r?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50/30 via-slate-50 to-indigo-50/20 dark:from-brand-dark-blue dark:via-gray-925 dark:to-brand-black",children:[(0,a.jsx)(d.A,{}),(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})]}):e?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50/30 via-slate-50 to-indigo-50/20 dark:from-brand-dark-blue dark:via-gray-925 dark:to-brand-black",children:[(0,a.jsx)(d.A,{}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("div",{className:"p-2 bg-white/5 dark:bg-white/5 hover:bg-white/10 dark:hover:bg-white/10 rounded-lg transition-colors",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-brand-secondary-text bg-clip-text text-transparent",children:"Create New Preset"})]}),(0,a.jsx)("p",{className:"text-brand-primary-text ml-11 max-w-2xl",children:"Define a reusable equipment set for consistent and efficient checkouts"})]}),(0,a.jsxs)(i(),{href:"/presets",className:"inline-flex items-center px-4 py-2.5 bg-gray-900/5 border border-gray-600 rounded-lg text-gray-300 hover font-medium transition-all duration-200 shadow-sm hover:shadow-md",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Presets"]})]})}),(0,a.jsxs)("form",{onSubmit:j,className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-gray-900/5/80 backdrop-blur-sm rounded-2xl border border-gray-300/50 shadow-xl shadow-gray-200/20 p-8",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-brand-primary-text mb-6 flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Basic Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preset Name *"}),(0,a.jsx)("input",{type:"text",name:"name",value:x.name,onChange:f,required:!0,className:"w-full px-4 py-2 border border-gray-600 rounded-lg bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all duration-200",placeholder:"e.g., Camera Shoot Basic Kit"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,a.jsxs)("select",{name:"category",value:x.category,onChange:f,className:"w-full px-4 py-2 border border-gray-600 rounded-lg bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all duration-200",children:[(0,a.jsx)("option",{value:"",children:"Select Category"}),c.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Department"}),(0,a.jsxs)("select",{name:"department",value:x.department,onChange:f,className:"w-full px-4 py-2 border border-gray-600 rounded-lg bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all duration-200",children:[(0,a.jsx)("option",{value:"",children:"Select Department"}),u.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Estimated Duration (hours)"}),(0,a.jsx)("input",{type:"number",name:"estimatedDuration",value:x.estimatedDuration,onChange:f,min:"1",className:"w-full px-4 py-2 border border-gray-600 rounded-lg bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all duration-200",placeholder:"24"})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,a.jsx)("textarea",{name:"description",value:x.description,onChange:f,rows:3,className:"w-full px-4 py-2 border border-gray-600 rounded-lg bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all duration-200",placeholder:"Describe what this preset is used for..."})]}),(0,a.jsxs)("div",{className:"mt-6 flex items-center space-x-6",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",name:"isTemplate",checked:x.isTemplate,onChange:f,className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500 focus:ring-2"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"Use as template"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Priority (0-10)"}),(0,a.jsx)("input",{type:"number",name:"priority",value:x.priority,onChange:f,min:"0",max:"10",className:"w-20 px-3 py-1 border border-gray-600 rounded-lg bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all duration-200"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-900/5/80 backdrop-blur-sm rounded-2xl border border-gray-300/50 shadow-xl shadow-gray-200/20 p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-brand-primary-text flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Preset Items"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{b([...g,{tempId:m(),name:"",quantity:1,isRequired:!0,priority:g.length,notes:""}])},className:"inline-flex items-center px-4 py-2 bg-purple-600 hover text-white rounded-lg font-medium transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-[1.02]",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Item"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:g.map((e,r)=>(0,a.jsxs)("div",{className:"bg-white/5 dark:bg-white/5 hover:bg-white/10 dark:hover:bg-white/10 rounded-xl p-4 border border-gray-200/50 transition-colors",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Item Name *"}),(0,a.jsx)("input",{type:"text",value:e.name,onChange:e=>y(r,"name",e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-600 rounded-lg bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all duration-200",placeholder:"e.g., Canon EOS R5 Camera"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Quantity"}),(0,a.jsx)("input",{type:"number",value:e.quantity,onChange:e=>y(r,"quantity",parseInt(e.target.value)||1),min:"1",className:"w-full px-3 py-2 border border-gray-600 rounded-lg bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all duration-200"})]}),(0,a.jsxs)("div",{className:"flex items-end justify-between",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.isRequired,onChange:e=>y(r,"isRequired",e.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500 focus:ring-2"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"Required"})]}),g.length>1&&(0,a.jsx)("button",{type:"button",onClick:()=>{g.length>1&&b(g.filter((e,t)=>t!==r))},className:"text-red-500 hover p-1 rounded transition-colors",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes"}),(0,a.jsx)("input",{type:"text",value:e.notes||"",onChange:e=>y(r,"notes",e.target.value),className:"w-full px-3 py-2 border border-gray-600 rounded-lg bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all duration-200",placeholder:"Optional notes about this item..."})]})]},e.tempId))})]}),(0,a.jsxs)("div",{className:"bg-gray-900/5/80 backdrop-blur-sm rounded-2xl border border-gray-300/50 shadow-xl shadow-gray-200/20 p-8",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-brand-primary-text mb-6 flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Additional Notes"]}),(0,a.jsx)("textarea",{name:"notes",value:x.notes,onChange:f,rows:4,className:"w-full px-4 py-3 border border-gray-600 rounded-lg bg-gray-900 text-brand-primary-text focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all duration-200",placeholder:"Any additional notes or instructions for this preset..."})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-4",children:[(0,a.jsx)(i(),{href:"/presets",className:"px-6 py-3 border border-gray-600 text-gray-300 hover rounded-xl font-medium transition-all duration-200",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:l,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"w-4 h-4 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l-3-2.647z"})]}),"Creating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Create Preset"]})})]})]})]})]}):null}}},e=>{e.O(0,[2108,7244,8947,8441,5964,7358],()=>e(e.s=46069)),_N_E=e.O()}]);