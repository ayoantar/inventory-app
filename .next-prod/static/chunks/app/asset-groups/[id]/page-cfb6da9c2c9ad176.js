(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[570],{3981:(e,s,a)=>{Promise.resolve().then(a.bind(a,55644))},55644:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x});var t=a(95155),r=a(12108),n=a(35695),i=a(12115),d=a(6874),l=a.n(d),o=a(48947),c=a(86682);function x(){var e;let{data:s,status:a}=(0,r.useSession)(),d=(0,n.useRouter)(),x=(0,n.useParams)(),[m,h]=(0,i.useState)(null),[u,p]=(0,i.useState)(!0),[b,g]=(0,i.useState)(!1),[j,v]=(0,i.useState)("");(0,i.useEffect)(()=>{if("loading"!==a){if("unauthenticated"===a)return void d.push("/auth/signin");x.id&&y()}},[a,d,x.id]);let y=async()=>{try{let e=await fetch("/api/asset-groups/".concat(x.id));if(e.ok){let s=await e.json();h(s)}else 404===e.status?v("Asset group not found"):v("Failed to load asset group")}catch(e){console.error("Failed to fetch asset group:",e),v("Failed to load asset group")}finally{p(!1)}},f=async()=>{if(m&&confirm("Are you sure you want to delete this asset group? This action cannot be undone."))try{(await fetch("/api/asset-groups/".concat(m.id),{method:"DELETE"})).ok?d.push("/asset-groups"):alert("Failed to delete asset group")}catch(e){console.error("Failed to delete asset group:",e),alert("An error occurred while deleting the asset group")}};return"loading"===a||u?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50/30 via-slate-50 to-indigo-50/20 dark:from-brand-dark-blue dark:via-gray-925 dark:to-brand-black",children:[(0,t.jsx)(o.A,{}),(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-orange"})})]}):s?j?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50/30 via-slate-50 to-indigo-50/20 dark:from-brand-dark-blue dark:via-gray-925 dark:to-brand-black",children:[(0,t.jsx)(o.A,{}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-white/50 hover:text-white/80 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-brand-primary-text",children:j}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(l(),{href:"/asset-groups",className:"bg-blue-600 hover text-white px-4 py-2 rounded-md text-sm font-medium inline-flex items-center transition-colors",children:"← Back to Asset Groups"})})]})})})]}):m?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50/30 via-slate-50 to-indigo-50/20 dark:from-brand-dark-blue dark:via-gray-925 dark:to-brand-black",children:[(0,t.jsx)(o.A,{}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsx)(l(),{href:"/asset-groups",className:"text-white/60 dark:text-white/60 hover:text-slate-500 dark:hover:text-slate-200",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,t.jsx)("div",{className:"p-2 bg-white/5 dark:bg-white/5 hover:bg-white/10 dark:hover:bg-white/10 rounded-lg transition-colors",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,t.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-brand-secondary-text bg-clip-text text-transparent",children:m.name})]}),m.description&&(0,t.jsx)("p",{className:"text-brand-primary-text ml-11 max-w-2xl mb-4",children:m.description}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-brand-secondary-text ml-11",children:[(0,t.jsxs)("span",{children:[m._count.members," assets"]}),m.category&&(0,t.jsxs)("span",{children:["• ",m.category]}),m.location&&(0,t.jsxs)("span",{children:["• ",m.location]}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(m.isActive?"bg-green-100 text-green-800":"bg-gray-100 dark:bg-gray-800 text-brand-primary-text"),children:m.isActive?"Active":"Inactive"})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)("button",{onClick:()=>g(!0),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40 transform hover:scale-[1.02]",children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Group"]}),(0,t.jsxs)("button",{onClick:f,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg shadow-red-500/25 hover:shadow-red-500/40 transform hover:scale-[1.02]",children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Group"]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)("div",{className:"bg-gray-900/5/80 backdrop-blur-sm rounded-2xl border border-gray-600/50 shadow-xl shadow-gray-200/20",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,t.jsxs)("h2",{className:"text-lg font-semibold text-brand-primary-text",children:["Assets (",m.members.length,")"]})}),m.members.length>0?(0,t.jsx)("div",{className:"divide-y divide-gray-300",children:m.members.map(e=>{var s;return(0,t.jsx)("div",{className:"p-3 hover transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-10 h-10 mr-3 flex-shrink-0",children:e.asset.imageUrl?(0,t.jsx)("img",{src:e.asset.imageUrl,alt:e.asset.description||e.asset.name,className:"w-10 h-10 object-cover rounded-lg border border-gray-600"}):(0,t.jsx)("div",{className:"w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm",children:"\uD83D\uDCE6"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)(l(),{href:"/assets/".concat(e.asset.id),className:"text-base font-medium text-brand-primary-text hover transition-colors block",children:e.asset.description||e.asset.name||"Asset ".concat(e.asset.id.slice(-4))}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 mt-1 text-xs text-gray-600 dark:text-brand-secondary-text",children:[e.asset.name&&e.asset.name!==e.asset.description&&(0,t.jsxs)("span",{children:["ID: ",e.asset.name]}),(0,t.jsx)("span",{children:e.asset.category.replace("_"," ")}),(0,t.jsx)("span",{className:"px-1.5 py-0.5 rounded-full text-xs font-medium ".concat("AVAILABLE"===e.asset.status?"bg-green-100 text-green-800":"CHECKED_OUT"===e.asset.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 dark:bg-gray-800 text-brand-primary-text"),children:e.asset.status.replace("_"," ")}),e.asset.location&&(0,t.jsxs)("span",{children:["• ",e.asset.location]}),(e.asset.manufacturer||e.asset.model)&&(0,t.jsxs)("span",{children:["• ","".concat(e.asset.manufacturer||""," ").concat(e.asset.model||"").trim()]})]})]}),(0,t.jsxs)("div",{className:"text-right ml-4",children:[(e.asset.currentValue||e.asset.purchasePrice)&&(0,t.jsxs)("div",{className:"text-sm font-medium text-brand-primary-text",children:["$",null==(s=e.asset.currentValue||e.asset.purchasePrice)?void 0:s.toLocaleString()]}),(0,t.jsxs)("div",{className:"text-xs text-gray-600 dark:text-brand-secondary-text",children:["Qty: ",e.quantity]})]})]})},e.id)})}):(0,t.jsx)("div",{className:"p-12 text-center",children:(0,t.jsx)("div",{className:"text-gray-600 dark:text-brand-secondary-text",children:"No assets in this group"})})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-900/5/80 backdrop-blur-sm rounded-2xl border border-gray-600/50 shadow-xl shadow-gray-200/20 p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-brand-primary-text mb-4",children:"Summary"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-brand-primary-text",children:"Total Assets:"}),(0,t.jsx)("span",{className:"font-medium text-brand-primary-text",children:m.members.length})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-brand-primary-text",children:"Total Value:"}),(0,t.jsxs)("span",{className:"font-medium text-brand-primary-text",children:["$",(!m?0:m.members.reduce((e,s)=>e+(s.asset.currentValue||s.asset.purchasePrice||0),0)).toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-brand-primary-text",children:"Status:"}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(m.isActive?"bg-green-100 text-green-800":"bg-gray-100 dark:bg-gray-800 text-brand-primary-text"),children:m.isActive?"Active":"Inactive"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-900/5/80 backdrop-blur-sm rounded-2xl border border-gray-600/50 shadow-xl shadow-gray-200/20 p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-brand-primary-text mb-4",children:"Details"}),(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[m.category&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-brand-primary-text",children:"Category:"}),(0,t.jsx)("div",{className:"font-medium text-brand-primary-text",children:m.category})]}),m.location&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-brand-primary-text",children:"Location:"}),(0,t.jsx)("div",{className:"font-medium text-brand-primary-text",children:m.location})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-brand-primary-text",children:"Created:"}),(0,t.jsx)("div",{className:"font-medium text-brand-primary-text",children:new Date(m.createdAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-brand-primary-text",children:"Created By:"}),(0,t.jsx)("div",{className:"font-medium text-brand-primary-text",children:(null==(e=m.createdBy)?void 0:e.name)||"Unknown"})]})]})]}),m.notes&&(0,t.jsxs)("div",{className:"bg-gray-900/5/80 backdrop-blur-sm rounded-2xl border border-gray-600/50 shadow-xl shadow-gray-200/20 p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-brand-primary-text mb-4",children:"Notes"}),(0,t.jsx)("div",{className:"text-sm text-brand-primary-text whitespace-pre-wrap",children:m.notes})]})]})]})]})}),(0,t.jsx)(c.A,{isOpen:b,onClose:()=>g(!1),onSuccess:()=>{y(),g(!1)},group:m})]}):null:null}}},e=>{e.O(0,[2108,7244,8947,6682,8441,5964,7358],()=>e(e.s=3981)),_N_E=e.O()}]);