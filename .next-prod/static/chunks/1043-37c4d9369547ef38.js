"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1043],{21043:(e,r,t)=>{t.d(r,{A:()=>n});var o=t(95155),a=t(12115),i=t(80280);function n(e){let{isOpen:r,onClose:t,onSave:n,location:s,mode:l}=e,[c,d]=(0,a.useState)({name:"",building:"",floor:"",room:"",description:"",capacity:"",isActive:!0}),[m,u]=(0,a.useState)(!1),[x,g]=(0,a.useState)("");(0,a.useEffect)(()=>{if(s&&"edit"===l){var e;d({name:s.name||"",building:s.building||"",floor:s.floor||"",room:s.room||"",description:s.description||"",capacity:(null==(e=s.capacity)?void 0:e.toString())||"",isActive:s.isActive})}else d({name:"",building:"",floor:"",room:"",description:"",capacity:"",isActive:!0});g("")},[s,l,r]);let p=e=>{let{name:r,value:t,type:o}=e.target;if("checkbox"===o){let t=e.target.checked;d(e=>({...e,[r]:t}))}else d(e=>({...e,[r]:t}))},b=async e=>{e.preventDefault(),u(!0),g("");try{let e="create"===l?"/api/locations":"/api/locations/".concat(null==s?void 0:s.id),r="create"===l?"POST":"PUT",o=await fetch(e,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c.name.trim(),building:c.building.trim()||null,floor:c.floor.trim()||null,room:c.room.trim()||null,description:c.description.trim()||null,capacity:c.capacity?parseInt(c.capacity):null,isActive:c.isActive})});if(o.ok)n(),t();else{let e=await o.json();g(e.error||"Failed to ".concat(l," location"))}}catch(e){g("An error occurred while ".concat("create"===l?"creating":"updating"," the location"))}finally{u(!1)}};return(0,o.jsxs)(i.lG,{open:r,onClose:t,className:"relative z-50",children:[(0,o.jsx)("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm","aria-hidden":"true"}),(0,o.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,o.jsx)(i.lG.Panel,{className:"mx-auto max-w-lg w-full bg-gray-900 rounded-2xl shadow-2xl border border-gray-700",children:(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("div",{className:"p-2 bg-white/5 dark:bg-white/5 hover:bg-white/10 dark:hover:bg-white/10 rounded-lg transition-colors",children:(0,o.jsxs)("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,o.jsx)(i.lG.Title,{className:"text-xl font-semibold text-brand-primary-text",children:"create"===l?"Add New Location":"Edit Location"})]}),(0,o.jsx)("button",{onClick:t,className:"text-white/50 hover:text-white/80 transition-colors hover transition-colors",children:(0,o.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x&&(0,o.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,o.jsx)("p",{className:"text-sm text-red-600",children:x})}),(0,o.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Location Name *"}),(0,o.jsx)("input",{type:"text",id:"name",name:"name",required:!0,value:c.name,onChange:p,className:"w-full px-3 py-2 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-gray-900 text-brand-primary-text",placeholder:"Enter location name"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"building",className:"block text-sm font-medium text-gray-300 mb-1",children:"Building"}),(0,o.jsx)("input",{type:"text",id:"building",name:"building",value:c.building,onChange:p,className:"w-full px-3 py-2 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-gray-900 text-brand-primary-text",placeholder:"Building name"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"floor",className:"block text-sm font-medium text-gray-300 mb-1",children:"Floor"}),(0,o.jsx)("input",{type:"text",id:"floor",name:"floor",value:c.floor,onChange:p,className:"w-full px-3 py-2 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-gray-900 text-brand-primary-text",placeholder:"Floor number"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"room",className:"block text-sm font-medium text-gray-300 mb-1",children:"Room"}),(0,o.jsx)("input",{type:"text",id:"room",name:"room",value:c.room,onChange:p,className:"w-full px-3 py-2 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-gray-900 text-brand-primary-text",placeholder:"Room number or name"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"capacity",className:"block text-sm font-medium text-gray-300 mb-1",children:"Capacity"}),(0,o.jsx)("input",{type:"number",id:"capacity",name:"capacity",value:c.capacity,onChange:p,min:"0",className:"w-full px-3 py-2 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-gray-900 text-brand-primary-text",placeholder:"Maximum capacity"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),(0,o.jsx)("textarea",{id:"description",name:"description",value:c.description,onChange:p,rows:3,className:"w-full px-3 py-2 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-gray-900 text-brand-primary-text",placeholder:"Optional description"})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",id:"isActive",name:"isActive",checked:c.isActive,onChange:p,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-600 rounded"}),(0,o.jsx)("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-300",children:"Active location"})]}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,o.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-900/5 hover rounded-lg transition-colors",children:"Cancel"}),(0,o.jsx)("button",{type:"submit",disabled:m||!c.name.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 hover disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:m?"create"===l?"Creating...":"Updating...":"create"===l?"Create Location":"Update Location"})]})]})]})})})]})}}}]);